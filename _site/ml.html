<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ARC-LBB - Classic ML</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">

<script src="site_libs/tabwid-1.1.3/tabwid.js"></script>

<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>

<link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">

<script src="site_libs/leaflet-1.3.1/leaflet.js"></script>

<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">

<script src="site_libs/proj4-2.6.2/proj4.min.js"></script>

<script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>

<link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">

<script src="site_libs/leaflet-binding-2.1.2/leaflet.js"></script>



<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">ARC-LBB</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./eda.html"> 
<span class="menu-text">EDA</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./autocorrelation.html"> 
<span class="menu-text">Autocorrelation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./kriging.html"> 
<span class="menu-text">Kriging</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./pca.html"> 
<span class="menu-text">PCA</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./multikriging.html"> 
<span class="menu-text">Multi-kriging</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./ml.html" aria-current="page"> 
<span class="menu-text">Classic ML</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./limitation.html"> 
<span class="menu-text">Conclusion</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#further-pre-process-data" id="toc-further-pre-process-data" class="nav-link active" data-scroll-target="#further-pre-process-data">Further Pre-Process Data</a></li>
  <li><a href="#build-models" id="toc-build-models" class="nav-link" data-scroll-target="#build-models">Build Models</a>
  <ul class="collapse">
  <li><a href="#configure-model-specification" id="toc-configure-model-specification" class="nav-link" data-scroll-target="#configure-model-specification">Configure Model Specification</a></li>
  <li><a href="#define-grids-for-hyperparameters" id="toc-define-grids-for-hyperparameters" class="nav-link" data-scroll-target="#define-grids-for-hyperparameters">Define Grids for Hyperparameters</a></li>
  <li><a href="#tune-models" id="toc-tune-models" class="nav-link" data-scroll-target="#tune-models">Tune Models</a></li>
  </ul></li>
  <li><a href="#compare-models" id="toc-compare-models" class="nav-link" data-scroll-target="#compare-models">Compare Models</a></li>
  <li><a href="#evaluate-final-model" id="toc-evaluate-final-model" class="nav-link" data-scroll-target="#evaluate-final-model">Evaluate Final Model</a></li>
  <li><a href="#analyse-outliers" id="toc-analyse-outliers" class="nav-link" data-scroll-target="#analyse-outliers">Analyse Outliers</a>
  <ul class="collapse">
  <li><a href="#values-above-50" id="toc-values-above-50" class="nav-link" data-scroll-target="#values-above-50">Values above 50</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Classic ML</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>##–Introduction While we’ve built a model so far that takes geographical information into account, we’ll now build more classic machine learning models. There is a range of classic machine learning models; however, we will focus on regression, support vector machine, random forest models as they have been investigated in previous literature. <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>##–Set Up ###–Load ASB and Non-ASB data</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#--Load packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(sf, dials,ranger, broom, kernlab, doParallel, workflowsets, rpart.plot, lubridate, here, rio, vip, ggplot2, readr, rsample, parsnip, recipes, workflows, tune, yardstick, dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># alternatively, tidymodels can be loaded</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#--Import Barnet shapefile</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>bnt_shp <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="fu">here</span>(<span class="st">"1_data"</span>, <span class="st">"9_geo"</span>, <span class="st">"bnt_lad.json"</span>), <span class="at">crs =</span> <span class="dv">4326</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">st_make_valid</span>()</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Reading layer `OS - BoundaryLine - 2022Authorities - Barnet' from data source </span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   `C:\Users\Hannah.Chang\OneDrive - London Borough of Barnet\General - I&amp;I Hub\02. Project Documentation\07. Standard Projects\ARC_LBB Website\arc_lbb_website\1_data\9_geo\bnt_lad.json' </span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   using driver `TopoJSON'</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 1 feature and 17 fields</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: -0.3055738 ymin: 51.55528 xmax: -0.1291338 ymax: 51.67021</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co">#--Read in ASB data</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>asb <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="fu">here</span>(<span class="st">"3_output"</span>, <span class="st">"asb_with_nearest_distances.csv"</span>))</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co">#--Apply basic transformation to asb</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>asb <span class="ot">&lt;-</span> asb <span class="sc">|&gt;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">latitude =</span> location.latitude, <span class="at">longitude =</span> location.longitude) <span class="sc">|&gt;</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.character), as.factor)) <span class="sc">|&gt;</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">"id"</span>), <span class="sc">-</span>category)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="co">#--Load non-asb points (points where the count of ASB is 0)</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>non_asb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"1_data"</span>, <span class="st">"non_asb_points.RDS"</span>))</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="co">#--Apply basic transformation to non-asb</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>non_asb <span class="ot">&lt;-</span> non_asb <span class="sc">|&gt;</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="dv">4326</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">longitude =</span> <span class="fu">st_coordinates</span>(non_asb)[, <span class="dv">1</span>],</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">latitude =</span> <span class="fu">st_coordinates</span>(non_asb)[, <span class="dv">2</span>]</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="co">#--Count</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>asb_ct <span class="ot">&lt;-</span> asb <span class="sc">|&gt;</span> </span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(longitude, latitude) <span class="sc">|&gt;</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">|&gt;</span> </span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(asb, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'longitude'</span>, <span class="st">'latitude'</span>)) <span class="sc">|&gt;</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(longitude, latitude, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>month)  </span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>non_asb_ct <span class="ot">&lt;-</span> non_asb <span class="sc">|&gt;</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">longitude =</span> <span class="fu">st_coordinates</span>(non_asb)[, <span class="dv">1</span>],</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">latitude =</span> <span class="fu">st_coordinates</span>(non_asb)[, <span class="dv">2</span>]) <span class="sc">|&gt;</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>d_bridge) <span class="sc">|&gt;</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>()</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a><span class="co">#--Add row_id</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>asb_ct <span class="ot">&lt;-</span> asb_ct <span class="sc">|&gt;</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row_id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(asb_ct), <span class="at">.before =</span> <span class="fu">everything</span>())</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>non_asb_ct <span class="ot">&lt;-</span> non_asb_ct <span class="sc">|&gt;</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row_id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(non_asb_ct), <span class="at">.before =</span> <span class="fu">everything</span>()) </span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="co">#--Combine data </span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>) </span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>non_asb_ct_sample <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5552</span>, <span class="dv">3485</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># sampling 3485 non-asb points to match the number of asb points</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>non_asb_ct_fin <span class="ot">&lt;-</span> non_asb_ct[non_asb_ct_sample,]</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>asb_all <span class="ot">&lt;-</span> <span class="fu">rbind</span>(asb_ct, non_asb_ct_fin)</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>asb_all_sample <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6970</span>, <span class="dv">6970</span><span class="sc">*</span><span class="fl">0.5</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>  <span class="co"># sampling half of all data for efficiency</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>asb_all_fin <span class="ot">&lt;-</span> asb_all[asb_all_sample,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="further-pre-process-data" class="level3">
<h3 class="anchored" data-anchor-id="further-pre-process-data">Further Pre-Process Data</h3>
<p>In this stage, <code>asb_all_fin</code> will be split into test and train sets. Also, a recpie (<code>asb_recipe</code>), which lays out pre-processing steps for models, will be defined.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#--Split the data into training and testing sets</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>asb_split <span class="ot">&lt;-</span> <span class="fu">initial_split</span>(asb_all_fin, <span class="at">prop =</span> <span class="fl">0.8</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>asb_train <span class="ot">&lt;-</span> <span class="fu">training</span>(asb_split)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>asb_test <span class="ot">&lt;-</span> <span class="fu">testing</span>(asb_split)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#--Define recipe</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>poi_pred <span class="ot">&lt;-</span> <span class="fu">names</span>(asb_train)[<span class="fu">grepl</span>(<span class="st">"d_"</span>, <span class="fu">names</span>(asb_train))]</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>formula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="fu">paste0</span>(<span class="st">"n ~"</span>, <span class="fu">paste</span>(poi_pred, <span class="at">collapse =</span> <span class="st">"+"</span>)))</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>asb_recipe <span class="ot">&lt;-</span> <span class="fu">recipe</span>(<span class="at">formula =</span> formula, <span class="at">data =</span> asb_train) <span class="sc">|&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_zv</span>(<span class="fu">all_predictors</span>()) </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removes indicator variables that only contain a single unique values</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">#--Prepare the recipe</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>asb_prep <span class="ot">&lt;-</span> recipes<span class="sc">::</span><span class="fu">prep</span>(asb_recipe)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co">#--Bake the training and testing datasets</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>asb_train_preprocessed <span class="ot">&lt;-</span> <span class="fu">bake</span>(asb_prep, <span class="at">new_data =</span> asb_train)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>asb_test_preprocessed <span class="ot">&lt;-</span> <span class="fu">bake</span>(asb_prep, <span class="at">new_data =</span> asb_test)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="co">#--Create a 5-fold CV object from training data</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>asb_cv <span class="ot">&lt;-</span> <span class="fu">vfold_cv</span>(asb_train, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="build-models" class="level2">
<h2 class="anchored" data-anchor-id="build-models">Build Models</h2>
<section id="configure-model-specification" class="level3">
<h3 class="anchored" data-anchor-id="configure-model-specification">Configure Model Specification</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#--Define models</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#---Linear regression</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>lm_spec <span class="ot">&lt;-</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">linear_reg</span>() <span class="sc">|&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_engine</span>(<span class="st">'lm'</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">#---SVM regression</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>svm_spec <span class="ot">&lt;-</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">svm_poly</span>(</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">cost =</span> <span class="fu">tune</span>(), </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">degree =</span> <span class="fu">tune</span>()</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_engine</span>(<span class="st">'kernlab'</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_mode</span>(<span class="st">'regression'</span>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co">#---RF regression</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>rf_spec <span class="ot">&lt;-</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rand_forest</span>(</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">trees =</span> <span class="dv">500</span>,</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">mtry =</span> <span class="fu">tune</span>(),</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>        <span class="co"># no. of predictors that'll be randomly sampled at each split when creating the tree models</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">min_n =</span> <span class="dv">10</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>        <span class="co"># minimum no. of data points in a node required for the node to be split further</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>        <span class="co"># the node needs to have at least min_n data points</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_engine</span>(<span class="st">'ranger'</span>, <span class="at">importance =</span> <span class="st">"impurity"</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_mode</span>(<span class="st">'regression'</span>)</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="co">#--Create workflow</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>lm_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">|&gt;</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_model</span>(lm_spec) <span class="sc">|&gt;</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_recipe</span>(asb_recipe)</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>svm_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">|&gt;</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_model</span>(svm_spec)<span class="sc">|&gt;</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_recipe</span>(asb_recipe)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>rf_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">|&gt;</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_model</span>(rf_spec)<span class="sc">|&gt;</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_recipe</span>(asb_recipe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="define-grids-for-hyperparameters" class="level3">
<h3 class="anchored" data-anchor-id="define-grids-for-hyperparameters">Define Grids for Hyperparameters</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#--Control settings</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>distr_grid_ctrl <span class="ot">&lt;-</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">control_grid</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">save_pred =</span> <span class="cn">TRUE</span>, </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">save_workflow =</span> <span class="cn">TRUE</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">verbose =</span> <span class="cn">TRUE</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co">#--Define a smaller tuning grid</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>svm_grid <span class="ot">&lt;-</span> <span class="fu">grid_regular</span>(</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cost</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>)),</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">degree</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)),</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">levels =</span> <span class="dv">3</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co">#--Define the tuning grid for rf</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>rf_grid <span class="ot">&lt;-</span> <span class="fu">grid_regular</span>(</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mtry</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fu">ncol</span>(asb_train_preprocessed)) <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="dv">5</span>)</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="co">#--Enable parallel processing</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(doParallel)</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>cl <span class="ot">&lt;-</span> <span class="fu">makePSOCKcluster</span>(<span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="fu">registerDoParallel</span>(cl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="tune-models" class="level3">
<h3 class="anchored" data-anchor-id="tune-models">Tune Models</h3>
<p>Model tuning can take awhile. Hence, tuned models have been loaded for efficiency. You can run the codes below <code>#--Tune models</code> to tune the hyperparameters of support vector machine (SVM) and random forest (RF).</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#--Load tuned models</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>tuned_lm <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"1_data"</span>, <span class="st">"tuned_lm.RDS"</span>))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>tuned_svm <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"1_data"</span>, <span class="st">"tuned_svm.RDS"</span>))</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>tuned_rf <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"1_data"</span>, <span class="st">"tuned_rf.RDS"</span>))</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#--Tune models</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#tuned_lm &lt;- tune_grid(</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">#lm_wf,</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#resamples = asb_cv,</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">#control = distr_grid_ctrl)</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">#tuned_svm &lt;- tune_grid(</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#svm_wf,</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">#grid = svm_grid,</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#resamples = asb_cv, </span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">#control = distr_grid_ctrl)</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="co">#tuned_rf &lt;- tune_grid(</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">#rf_wf,</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">#grid = rf_grid,</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">#resamples = asb_cv, </span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">#control = distr_grid_ctrl)</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(tuned_lm, here("1_data", "tuned_lm.RDS"))</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(tuned_svm, here("1_data", "tuned_svm.RDS"))</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(tuned_rf, here("1_data", "tuned_rf.RDS"))</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a><span class="co">#--Stop parallel processing</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a><span class="fu">stopCluster</span>(cl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="compare-models" class="level2">
<h2 class="anchored" data-anchor-id="compare-models">Compare Models</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#--Get metrics</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>lm_metrics <span class="ot">&lt;-</span> <span class="fu">collect_metrics</span>(tuned_lm)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>svm_metrics <span class="ot">&lt;-</span> <span class="fu">collect_metrics</span>(tuned_svm) </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>rf_metrics <span class="ot">&lt;-</span> <span class="fu">collect_metrics</span>(tuned_rf)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">#--Compare RMSE of all models</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>lm_best <span class="ot">&lt;-</span> lm_metrics <span class="sc">|&gt;</span> <span class="fu">filter</span>(.metric <span class="sc">==</span> <span class="st">"rmse"</span>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(mean) <span class="sc">|&gt;</span> <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>svm_best <span class="ot">&lt;-</span> svm_metrics <span class="sc">|&gt;</span> <span class="fu">filter</span>(.metric <span class="sc">==</span> <span class="st">"rmse"</span>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(mean) <span class="sc">|&gt;</span> <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>rf_best <span class="ot">&lt;-</span> rf_metrics <span class="sc">|&gt;</span> <span class="fu">filter</span>(.metric <span class="sc">==</span> <span class="st">"rmse"</span>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(mean) <span class="sc">|&gt;</span> <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>comp <span class="ot">&lt;-</span> <span class="fu">list</span>(lm_best, svm_best, rf_best) <span class="sc">|&gt;</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  data.table<span class="sc">::</span><span class="fu">rbindlist</span>(<span class="at">fill =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Model =</span> <span class="fu">c</span>(<span class="st">"Linear Regression"</span>, <span class="st">"Support Vector Machine"</span>, <span class="st">"Random Forest"</span>), <span class="at">.before =</span> <span class="fu">everything</span>()) <span class="sc">|&gt;</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), <span class="sc">~</span><span class="fu">round</span>(.x, <span class="dv">2</span>))) <span class="sc">|&gt;</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">.estimator</span><span class="st">`</span>)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(comp) <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_to_sentence</span>(stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="fu">names</span>(comp), <span class="st">"</span><span class="sc">\\</span><span class="st">."</span>))</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>comp_flx <span class="ot">&lt;-</span> flextable<span class="sc">::</span><span class="fu">flextable</span>(comp)</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>comp_flx</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-ec3c652e{}.cl-ec2e600a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ec346dce{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ec346dd8{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ec349006{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ec349010{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ec349011{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ec34901a{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ec34901b{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ec349024{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-ec3c652e"><thead><tr style="overflow-wrap:break-word;"><th class="cl-ec349006"><p class="cl-ec346dce"><span class="cl-ec2e600a">Model</span></p></th><th class="cl-ec349006"><p class="cl-ec346dce"><span class="cl-ec2e600a">Metric</span></p></th><th class="cl-ec349010"><p class="cl-ec346dd8"><span class="cl-ec2e600a">Mean</span></p></th><th class="cl-ec349010"><p class="cl-ec346dd8"><span class="cl-ec2e600a">N</span></p></th><th class="cl-ec349010"><p class="cl-ec346dd8"><span class="cl-ec2e600a">Std_err</span></p></th><th class="cl-ec349006"><p class="cl-ec346dce"><span class="cl-ec2e600a">Config</span></p></th><th class="cl-ec349010"><p class="cl-ec346dd8"><span class="cl-ec2e600a">Cost</span></p></th><th class="cl-ec349010"><p class="cl-ec346dd8"><span class="cl-ec2e600a">Degree</span></p></th><th class="cl-ec349010"><p class="cl-ec346dd8"><span class="cl-ec2e600a">Mtry</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-ec349011"><p class="cl-ec346dce"><span class="cl-ec2e600a">Linear Regression</span></p></td><td class="cl-ec349011"><p class="cl-ec346dce"><span class="cl-ec2e600a">rmse</span></p></td><td class="cl-ec34901a"><p class="cl-ec346dd8"><span class="cl-ec2e600a">10.05</span></p></td><td class="cl-ec34901a"><p class="cl-ec346dd8"><span class="cl-ec2e600a">5</span></p></td><td class="cl-ec34901a"><p class="cl-ec346dd8"><span class="cl-ec2e600a">1.06</span></p></td><td class="cl-ec349011"><p class="cl-ec346dce"><span class="cl-ec2e600a">Preprocessor1_Model1</span></p></td><td class="cl-ec34901a"><p class="cl-ec346dd8"><span class="cl-ec2e600a"></span></p></td><td class="cl-ec34901a"><p class="cl-ec346dd8"><span class="cl-ec2e600a"></span></p></td><td class="cl-ec34901a"><p class="cl-ec346dd8"><span class="cl-ec2e600a"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ec349011"><p class="cl-ec346dce"><span class="cl-ec2e600a">Support Vector Machine</span></p></td><td class="cl-ec349011"><p class="cl-ec346dce"><span class="cl-ec2e600a">rmse</span></p></td><td class="cl-ec34901a"><p class="cl-ec346dd8"><span class="cl-ec2e600a">10.36</span></p></td><td class="cl-ec34901a"><p class="cl-ec346dd8"><span class="cl-ec2e600a">5</span></p></td><td class="cl-ec34901a"><p class="cl-ec346dd8"><span class="cl-ec2e600a">1.17</span></p></td><td class="cl-ec349011"><p class="cl-ec346dce"><span class="cl-ec2e600a">Preprocessor1_Model3</span></p></td><td class="cl-ec34901a"><p class="cl-ec346dd8"><span class="cl-ec2e600a">2</span></p></td><td class="cl-ec34901a"><p class="cl-ec346dd8"><span class="cl-ec2e600a">1</span></p></td><td class="cl-ec34901a"><p class="cl-ec346dd8"><span class="cl-ec2e600a"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ec34901b"><p class="cl-ec346dce"><span class="cl-ec2e600a">Random Forest</span></p></td><td class="cl-ec34901b"><p class="cl-ec346dce"><span class="cl-ec2e600a">rmse</span></p></td><td class="cl-ec349024"><p class="cl-ec346dd8"><span class="cl-ec2e600a">10.03</span></p></td><td class="cl-ec349024"><p class="cl-ec346dd8"><span class="cl-ec2e600a">5</span></p></td><td class="cl-ec349024"><p class="cl-ec346dd8"><span class="cl-ec2e600a">0.99</span></p></td><td class="cl-ec34901b"><p class="cl-ec346dce"><span class="cl-ec2e600a">Preprocessor1_Model1</span></p></td><td class="cl-ec349024"><p class="cl-ec346dd8"><span class="cl-ec2e600a"></span></p></td><td class="cl-ec349024"><p class="cl-ec346dd8"><span class="cl-ec2e600a"></span></p></td><td class="cl-ec349024"><p class="cl-ec346dd8"><span class="cl-ec2e600a">0</span></p></td></tr></tbody></table></div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(comp_flx, here("1_data", "ml_comp_flx.RDS"))</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#--Extract the best hyperparameters for rf</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>best_rf_params <span class="ot">&lt;-</span> <span class="fu">select_best</span>(tuned_rf, <span class="at">metric =</span>  <span class="st">"rmse"</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#--Finalize the rf workflow with best parameters</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>final_rf_wf <span class="ot">&lt;-</span> <span class="fu">finalize_workflow</span>(rf_wf, best_rf_params)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">#--Train the final model on the entire training dataset</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>final_rf_fit <span class="ot">&lt;-</span> <span class="fu">fit</span>(final_rf_wf, <span class="at">data =</span> asb_train_preprocessed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="evaluate-final-model" class="level2">
<h2 class="anchored" data-anchor-id="evaluate-final-model">Evaluate Final Model</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#--Predict on the test data</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>rf_test_predictions <span class="ot">&lt;-</span> <span class="fu">predict</span>(final_rf_fit, asb_test_preprocessed)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#--Evaluate the predictions</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>rf_test_results <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(asb_test_preprocessed, rf_test_predictions)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">#--Calculate performance metrics</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>metrics_result <span class="ot">&lt;-</span> rf_test_results <span class="sc">|&gt;</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">metrics</span>(<span class="at">truth =</span> n, <span class="at">estimate =</span> .pred)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co">#--Plot the importance of features</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>p_vip <span class="ot">&lt;-</span> <span class="fu">vip</span>(final_rf_fit, <span class="at">num_features =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Top 10 Features in Random Forest Model"</span>)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>p_vip</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ml_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(p_vip, here("1_data", "ml_p_vip.RDS"))</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">#--Plot predicted vs actual values</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>p_rf <span class="ot">&lt;-</span> rf_test_results <span class="sc">|&gt;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> n, <span class="at">y =</span> .pred)) <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Actual Values"</span>, <span class="at">y =</span> <span class="st">"Predicted Values"</span>) <span class="sc">+</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Actual vs Predicted Count of ASB from Random Forest Model"</span>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>p_rf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ml_files/figure-html/unnamed-chunk-7-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(p_rf, here("1_data", "ml_p_rf.RDS"))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="analyse-outliers" class="level2">
<h2 class="anchored" data-anchor-id="analyse-outliers">Analyse Outliers</h2>
<section id="values-above-50" class="level3">
<h3 class="anchored" data-anchor-id="values-above-50">Values above 50</h3>
<p>In the plot above, we can see the model does not predict points with high number of ASB. So, we will explore those points on a map.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#--Subset high values</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>rf_outliers <span class="ot">&lt;-</span> rf_test_results <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row_id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(rf_test_results)) <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;=</span> <span class="dv">50</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">#--Calculate error</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>asb_outliers <span class="ot">&lt;-</span> asb_test_preprocessed[rf_outliers<span class="sc">$</span>row_id,] <span class="sc">|&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(asb_all) <span class="sc">|&gt;</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pred =</span> rf_outliers<span class="sc">$</span><span class="st">`</span><span class="at">.pred</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comparison =</span> <span class="fu">paste0</span>(n, <span class="st">" (actual) vs "</span>, <span class="fu">round</span>(pred), <span class="st">" (predicted)"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">error =</span> <span class="fu">round</span>(n <span class="sc">-</span> pred))</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Map outliers of high values</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>pal_asb <span class="ot">&lt;-</span> leaflet<span class="sc">::</span><span class="fu">colorNumeric</span>(<span class="at">palette =</span> <span class="st">'RdYlGn'</span>, asb_outliers<span class="sc">$</span>error, <span class="at">rev =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>m_outlier <span class="ot">&lt;-</span> leaflet<span class="sc">::</span><span class="fu">leaflet</span>(<span class="at">data =</span> asb_outliers) <span class="sc">|&gt;</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  leaflet<span class="sc">::</span><span class="fu">addPolygons</span>(<span class="at">data =</span> bnt_shp, <span class="at">fillOpacity =</span> <span class="dv">0</span>, <span class="at">col =</span> <span class="st">"black"</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  leaflet<span class="sc">::</span><span class="fu">addTiles</span>() <span class="sc">|&gt;</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  leaflet<span class="sc">::</span><span class="fu">addCircleMarkers</span>(<span class="at">popup=</span> <span class="sc">~</span>comparison, <span class="at">color =</span> <span class="sc">~</span><span class="fu">pal_asb</span>(error)) <span class="sc">|&gt;</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  leaflet<span class="sc">::</span><span class="fu">addLegend</span>(<span class="st">'bottomright'</span>,</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">pal =</span>pal_asb,</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">values =</span> <span class="sc">~</span>error,</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">title =</span> <span class="st">'Error'</span>,</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">opacity =</span> <span class="dv">1</span>)</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>m_outlier</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c1bdc850241e862b0904" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-c1bdc850241e862b0904">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addPolygons","args":[[[[{"lng":[-0.1998478,-0.2000979,-0.2010379,-0.201758,-0.2023579999999999,-0.203328,-0.202588,-0.202568,-0.202498,-0.202358,-0.2022080000000001,-0.202648,-0.202808,-0.203138,-0.203248,-0.2035381,-0.2038481,-0.2046981,-0.2056182,-0.2057182,-0.2070483,-0.2074083,-0.2079383,-0.2098184,-0.2111085,-0.2103984,-0.2096784,-0.2078383,-0.2080683,-0.2099584,-0.2109885,-0.2115085,-0.2118584999999999,-0.2121085,-0.2123986,-0.2127886,-0.2133686,-0.2134786,-0.2144987,-0.2147587,-0.2171088,-0.2188789,-0.2192288999999999,-0.219399,-0.219789,-0.220229,-0.2212291,-0.2215991,-0.2228791,-0.2239092,-0.2249693,-0.2255593,-0.2260393,-0.2258593,-0.2264594,-0.2266094,-0.2269794,-0.2272994,-0.2279694,-0.2280594,-0.2282094999999999,-0.2284495,-0.2282694999999999,-0.2283595,-0.2284195,-0.2284895,-0.2288095,-0.2289195,-0.2294595,-0.2297495,-0.2298895,-0.2300996,-0.2305596,-0.2307096,-0.2310196,-0.2311296,-0.2312695999999999,-0.2324196999999999,-0.2332397,-0.2335398,-0.2338598,-0.2340698,-0.2342198,-0.2343798000000001,-0.2346998,-0.2349198,-0.2351098,-0.2357499,-0.2361798999999999,-0.2364499,-0.2366599,-0.2369599,-0.23707,-0.23722,-0.23764,-0.23825,-0.23795,-0.2384500000000001,-0.2391801,-0.2396001,-0.2399400999999999,-0.2409802,-0.2413502,-0.2418702,-0.2420901999999999,-0.2423503,-0.2425603,-0.2426703,-0.2428302999999999,-0.2429703,-0.2431503,-0.2433403,-0.2436103,-0.2438803,-0.2439703,-0.2441304,-0.2443704000000001,-0.2446704,-0.2451104,-0.2458104,-0.2459805,-0.2464505000000001,-0.2467105,-0.2478406,-0.2479706,-0.2482406,-0.2484605999999999,-0.2488506,-0.2489506,-0.2493206,-0.2496806999999999,-0.2498207,-0.2499307,-0.2500607,-0.2502307,-0.2503606999999999,-0.2503906999999999,-0.2504407000000001,-0.2505607,-0.2507907,-0.2510207,-0.2511408,-0.2511908,-0.2512308,-0.2512308,-0.2511608,-0.2512408,-0.2513208,-0.2511307,-0.2510307,-0.2508707,-0.2507707000000001,-0.2507107,-0.2505507,-0.2503407,-0.2498407,-0.2504006999999999,-0.2508406999999999,-0.2510307,-0.2511708,-0.2512508,-0.2513608,-0.2513708,-0.2515308000000001,-0.2517108000000001,-0.2518508,-0.2520207999999999,-0.2522208,-0.2525308,-0.2529408999999999,-0.2536409,-0.2540209,-0.2544609,-0.254711,-0.255321,-0.2553809999999999,-0.255421,-0.2554509999999999,-0.2561310000000001,-0.256431,-0.2568511,-0.2572111,-0.2573010999999999,-0.2574511,-0.2575611,-0.2576711,-0.2578510999999999,-0.2583511999999999,-0.2583612000000001,-0.2587112,-0.2588912,-0.2592712,-0.2593512,-0.2597112,-0.2600013,-0.2601313,-0.2602313,-0.2604213,-0.2606813000000001,-0.2608113,-0.2608513,-0.2608913,-0.2609713,-0.2610012999999999,-0.2611213000000001,-0.2611813,-0.2612013,-0.2612113,-0.2612313000000001,-0.2612513,-0.2613013000000001,-0.2614513,-0.2615613,-0.2616613,-0.2617813999999999,-0.2619814,-0.2621614,-0.2624014,-0.2626314,-0.2627214,-0.2629114,-0.2630714000000001,-0.2631714000000001,-0.2632414000000001,-0.2640014999999999,-0.2641915,-0.2643215,-0.2644115,-0.2644715,-0.2645115,-0.2645715,-0.2646114999999999,-0.2646815,-0.2647515,-0.2651714999999999,-0.2654915999999999,-0.2667316,-0.2683117,-0.2683117,-0.2683517,-0.2683617,-0.2683717,-0.2683816999999999,-0.2683617,-0.2682817,-0.2682217,-0.2687617,-0.2693918,-0.2694218,-0.2697018,-0.2700217999999999,-0.2706119,-0.2710919,-0.2715219,-0.2719118999999999,-0.272852,-0.272842,-0.2728820000000001,-0.273052,-0.273092,-0.273112,-0.273142,-0.273342,-0.2735320000000001,-0.273692,-0.273882,-0.2741721,-0.2741521000000001,-0.2741421,-0.2741321,-0.2739519999999999,-0.273712,-0.2737019999999999,-0.273982,-0.2747121,-0.2750820999999999,-0.2754721,-0.2758622000000001,-0.2764522,-0.2767122,-0.2769622,-0.2773022000000001,-0.2777523,-0.2779223,-0.2782023,-0.2785923,-0.2790023,-0.2793824,-0.2800124,-0.2803924,-0.2805124,-0.2813825,-0.2829025,-0.2838626,-0.2842426,-0.2846126,-0.2850427,-0.2851627,-0.2854926999999999,-0.2859827,-0.2864728,-0.2869028,-0.2872228000000001,-0.2877828,-0.2880727999999999,-0.2883429,-0.2891129,-0.2892528999999999,-0.2893829000000001,-0.2899029,-0.290553,-0.291353,-0.2917130000000001,-0.2918631,-0.2920130999999999,-0.2921631000000001,-0.2933131,-0.2935732,-0.2940831999999999,-0.2943832000000001,-0.2961233,-0.2972034000000001,-0.2977134,-0.2982134,-0.2984734000000001,-0.2986734,-0.2987333999999999,-0.2987935,-0.2993935,-0.2995735,-0.2996235,-0.2998435,-0.3000635,-0.3001635,-0.3002935,-0.3004335,-0.3005736,-0.3006235999999999,-0.3008836,-0.3010636,-0.3012036,-0.3017336,-0.3023937,-0.3027037,-0.3029036999999999,-0.3029537,-0.3030037,-0.3030437,-0.3031736999999999,-0.3033337,-0.3035437,-0.3037837,-0.3039737,-0.3041438,-0.3042838,-0.3043338,-0.3044338,-0.3044538,-0.3044737999999999,-0.3045438,-0.3046437999999999,-0.3048638,-0.3049938,-0.3050838,-0.3051938,-0.3054238,-0.3054938,-0.3055638,-0.3055738,-0.3055438,-0.3055238000000001,-0.3055038,-0.3054738,-0.3054438,-0.3054238,-0.3053938,-0.3053538000000001,-0.3052738,-0.3051638,-0.3050538,-0.3049038000000001,-0.3047938000000001,-0.3046138,-0.3044638,-0.3043238,-0.3042038,-0.3041138,-0.3040237,-0.3038137,-0.3035837,-0.3031337,-0.3025237,-0.3024837,-0.3022836,-0.3021336,-0.3019836,-0.3018736,-0.3017936000000001,-0.3016536,-0.3014135999999999,-0.3012436,-0.3010236,-0.3006836000000001,-0.3004135000000001,-0.3002235,-0.2999035,-0.2995835,-0.2992935,-0.2990635,-0.2988334999999999,-0.2986634,-0.2983633999999999,-0.2981834,-0.2980634,-0.2978934,-0.2976434,-0.2974634,-0.2972234,-0.2971134,-0.2968233,-0.2966433,-0.2964333,-0.2963833,-0.2959933,-0.2957933,-0.2955733,-0.2953733,-0.2951132,-0.2948932,-0.2946731999999999,-0.2944532,-0.2942132000000001,-0.2937432,-0.2934931,-0.2932831,-0.2931331,-0.2929830999999999,-0.2928431,-0.2927431,-0.2926131,-0.2922431,-0.2917931,-0.291653,-0.291553,-0.291183,-0.290523,-0.2897428999999999,-0.2891528999999999,-0.2882529,-0.2881928,-0.2880528,-0.2879428,-0.2878628,-0.2877828,-0.2877027999999999,-0.2876028,-0.2873928000000001,-0.2868728,-0.2865027999999999,-0.2861026999999999,-0.2858327000000001,-0.2855127,-0.2853427000000001,-0.2850627,-0.2846426,-0.2843025999999999,-0.2840426,-0.2837126,-0.2833926000000001,-0.2824625,-0.2822724999999999,-0.2819125,-0.2814125,-0.2810323999999999,-0.2807624,-0.2804824,-0.2801824,-0.2798824,-0.2796224,-0.2794424,-0.2793623000000001,-0.2793522999999999,-0.2793423,-0.2792823,-0.2791322999999999,-0.2789423,-0.2788223,-0.2786123,-0.2784523,-0.2782623,-0.2781023,-0.2778723,-0.2777223,-0.2776223,-0.2774322,-0.2773722,-0.2772722,-0.2771622,-0.2770922,-0.2770222,-0.2768722,-0.2767922,-0.2767522000000001,-0.2766422000000001,-0.2765722,-0.2765122,-0.2764322,-0.2763122,-0.2761322,-0.2759622,-0.2757921,-0.2757120999999999,-0.2756621,-0.2754221,-0.2752521,-0.2751321,-0.2750421,-0.2749421,-0.2749021,-0.2748921,-0.2747920999999999,-0.2746521,-0.2744321,-0.2742921,-0.2742521,-0.273932,-0.273772,-0.273152,-0.272332,-0.2716319,-0.2710519,-0.2705619,-0.2698818,-0.2687217,-0.2684317,-0.2680317,-0.2677617,-0.2675517,-0.2673116999999999,-0.2672417,-0.2671217,-0.2670317,-0.2669716,-0.2666116000000001,-0.2663516,-0.2660016000000001,-0.2655816,-0.2653916,-0.2651115,-0.2650015,-0.2648115,-0.2647015,-0.2644315,-0.2643215,-0.2642315000000001,-0.2641215,-0.2640315,-0.2639315,-0.2637315,-0.2636115,-0.2633914,-0.2632314,-0.2631114000000001,-0.2629814,-0.2627814,-0.2626513999999999,-0.2625214,-0.2621414,-0.2619014,-0.2608013,-0.2604613,-0.2602213,-0.2600613,-0.2599112,-0.2598012,-0.2597812,-0.2596612,-0.2594811999999999,-0.2592212,-0.2589012,-0.2584312,-0.2580911,-0.2580410999999999,-0.2579611000000001,-0.2576911000000001,-0.2575711,-0.2574611,-0.2573111000000001,-0.2570411,-0.2570311,-0.2568711,-0.256261,-0.256011,-0.255731,-0.255351,-0.254891,-0.254751,-0.2544009,-0.2542509,-0.2539309,-0.2535809,-0.2531909000000001,-0.2529709,-0.2527608,-0.2525608,-0.2524008,-0.2522408,-0.2518508,-0.2515308000000001,-0.2512508000000001,-0.2511508,-0.2509507,-0.2508507,-0.2506507000000001,-0.2504307000000001,-0.2500407,-0.2498607,-0.2494007,-0.2491306,-0.2489806000000001,-0.2486606,-0.2484306,-0.2483406,-0.2483106,-0.2482706,-0.2483506,-0.2491806,-0.2499107,-0.2499407,-0.2512008000000001,-0.2514908,-0.2516908,-0.2522008,-0.2523808000000001,-0.2525708,-0.2529909,-0.2532509,-0.2533809,-0.2534709,-0.2535509,-0.2536109,-0.2536409,-0.2536609,-0.2537609,-0.2538309,-0.2539809,-0.2541309,-0.2542209,-0.2542609,-0.2542909,-0.2543209,-0.2543409,-0.2543509,-0.2543609,-0.2543609000000001,-0.2543609,-0.2543509,-0.2543408999999999,-0.2543109000000001,-0.2543009,-0.2542809,-0.2542709,-0.2542609,-0.2542609000000001,-0.2542708999999999,-0.2542809,-0.2543009,-0.2543109,-0.2543208999999999,-0.2543409,-0.2543609,-0.2543609,-0.2543909,-0.2544709,-0.2545309,-0.2545609,-0.2545609,-0.2545609,-0.2545509,-0.2545109,-0.2544708999999999,-0.2544609,-0.2544609,-0.2545009,-0.2544609,-0.2544409,-0.2544309,-0.2544108999999999,-0.2543409,-0.2543309,-0.2543009000000001,-0.2542709,-0.2542509,-0.2542409,-0.2541909,-0.2541709,-0.2541409,-0.2541009,-0.2540909,-0.2540708999999999,-0.2540309000000001,-0.2540109,-0.2539809,-0.2539608999999999,-0.2539209000000001,-0.2538909,-0.2538508999999999,-0.2538009,-0.2537409,-0.2536909,-0.2536209,-0.2535409000000001,-0.2535309000000001,-0.2534609,-0.2534209000000001,-0.2533409,-0.2532909,-0.2532509000000001,-0.2532408999999999,-0.2532309,-0.2531509,-0.2530609,-0.2530109,-0.2529809,-0.2529209,-0.2528908,-0.2528108,-0.2527808,-0.2527408,-0.2526708,-0.2525408,-0.2524908,-0.2524508,-0.2523608,-0.2523308,-0.2522808,-0.2522608,-0.2522308,-0.2522008,-0.2521508,-0.2520408,-0.2520308,-0.2520207999999999,-0.2520108,-0.2519808,-0.2519407999999999,-0.2519007999999999,-0.2518007999999999,-0.2517308,-0.2516308,-0.2515208,-0.2514108,-0.2514008,-0.2513608,-0.2513008,-0.2512508,-0.2513608,-0.2514607999999999,-0.2514908,-0.2515708,-0.2516108,-0.2516408,-0.2517408,-0.2517708,-0.2517908,-0.2518308,-0.2518608000000001,-0.2519007999999999,-0.2519508,-0.2520308,-0.2521408,-0.2521908,-0.2522907999999999,-0.2525808,-0.2527307999999999,-0.2528608000000001,-0.2529008,-0.2529409,-0.2529809,-0.2530109,-0.2530409,-0.2530709,-0.2530909,-0.2531009,-0.2531009,-0.2531009,-0.2531009,-0.2531009,-0.2530909,-0.2530709,-0.2530609,-0.2530509,-0.2530308999999999,-0.2529909,-0.2529509,-0.2529209,-0.2529109,-0.2528808,-0.2528508,-0.2528208000000001,-0.2527608,-0.2526908,-0.2526708,-0.2526308,-0.2525408,-0.2525208,-0.2525007999999999,-0.2524508,-0.2523508,-0.2522108,-0.2521508,-0.2521208,-0.2520908,-0.2520808,-0.2520308,-0.2520007999999999,-0.2519608,-0.2518508,-0.2517808,-0.2517108000000001,-0.2516308,-0.2515907999999999,-0.2515108,-0.2514308,-0.2514108,-0.2513908,-0.2513208,-0.2511608,-0.2509507,-0.2508207,-0.2507907,-0.2507107,-0.2506607,-0.2504807,-0.2502807,-0.2502407,-0.2500007,-0.2498407,-0.2497407,-0.2496307,-0.2495407,-0.2494607,-0.2493706,-0.2493506,-0.2493006,-0.2492506,-0.2491906,-0.2491206,-0.2490406,-0.2489706,-0.2488706,-0.2487906,-0.2487106,-0.2486506000000001,-0.2486106,-0.2485706,-0.2484705999999999,-0.2483306,-0.2482906,-0.2482606,-0.2482406,-0.2482306000000001,-0.2482106,-0.2481806,-0.2481606,-0.2481405999999999,-0.2481306,-0.2481106,-0.2480906,-0.2480805999999999,-0.2480306,-0.2479906,-0.2479206,-0.2478606,-0.2478106,-0.2477105999999999,-0.2476306,-0.2475605,-0.2474605,-0.2474205,-0.2473405,-0.2472905,-0.2472004999999999,-0.2471305,-0.2471105,-0.2471005,-0.2470905,-0.2470805,-0.2470704999999999,-0.2470605,-0.2470505,-0.2470505,-0.2470605,-0.2470705,-0.2471205,-0.2472005,-0.2473305000000001,-0.2473505,-0.2473705,-0.2474105,-0.2474205,-0.2474205,-0.2474205,-0.2474105,-0.2474005,-0.2473705,-0.2473105,-0.2472405,-0.2471605,-0.2471005,-0.2470605,-0.2470305000000001,-0.2469005,-0.2468605,-0.2468105,-0.2467505,-0.2467105,-0.2466905,-0.2466805,-0.2466005,-0.2465905,-0.2465805,-0.2465905,-0.2466205,-0.2466605,-0.2466605,-0.2466605,-0.2466305,-0.2466005,-0.2465405000000001,-0.2465105,-0.2464104999999999,-0.2463505,-0.2463005,-0.2462805,-0.2462605,-0.2461604999999999,-0.2461305000000001,-0.2461305,-0.2461505,-0.2461905,-0.2462205,-0.2462405,-0.2462705,-0.2463205,-0.2463405,-0.2463705,-0.2465005,-0.2465305,-0.2465405,-0.2465505,-0.2465804999999999,-0.2465905,-0.2465905,-0.2466105,-0.2466004999999999,-0.2465705,-0.2464905,-0.2465205,-0.2465205,-0.2464405,-0.2463305,-0.2462105,-0.2461704999999999,-0.2460505,-0.2460305,-0.2460505,-0.2461805,-0.2463105,-0.2465105,-0.2465804999999999,-0.2467604999999999,-0.2467704999999999,-0.2468005,-0.2467405,-0.2465405,-0.2464405,-0.2463005,-0.2461305000000001,-0.2460605,-0.2460305,-0.2459505,-0.2459105,-0.2458404,-0.2457704,-0.2456404,-0.2455803999999999,-0.2454904,-0.2452804,-0.2451404,-0.2449404,-0.2448003999999999,-0.2446804,-0.2445504,-0.2445204,-0.2444904,-0.2444804,-0.2444704,-0.2444004,-0.2442604,-0.2441404,-0.2441204,-0.2441104,-0.2441604,-0.2441504,-0.2440803,-0.2439603,-0.2436802999999999,-0.2434103,-0.2432403,-0.2430303,-0.2430003,-0.2429503,-0.2429003,-0.2428203,-0.2427302999999999,-0.2426603,-0.2425703000000001,-0.2425303,-0.2424803,-0.2424403,-0.2424203,-0.2424503,-0.2425303,-0.2425703,-0.2426003,-0.2426003,-0.2425802999999999,-0.2425503,-0.2425203,-0.2425002999999999,-0.2424203,-0.2424002999999999,-0.2423403,-0.2422602,-0.2420702,-0.2417302,-0.2416002,-0.2415002,-0.2414402,-0.2414002,-0.2413902,-0.2414402,-0.2414502,-0.2414202,-0.2413702,-0.2413001999999999,-0.2412402,-0.2411902,-0.2410402,-0.2409802,-0.2409202,-0.2409002,-0.2408902,-0.2408902,-0.2408902,-0.2408902,-0.2408802,-0.2408601999999999,-0.2408401999999999,-0.2408102,-0.2407602,-0.2407201999999999,-0.2406901999999999,-0.2406802,-0.2406901999999999,-0.2407001999999999,-0.2406902,-0.2406702,-0.2406401999999999,-0.2406002,-0.2405602,-0.2405301,-0.2404901,-0.2404201000000001,-0.2403201,-0.2402501,-0.2401801,-0.2401001,-0.2400601000000001,-0.2400301,-0.2400101,-0.2400001,-0.2400101000000001,-0.2400901,-0.2401101000000001,-0.2401001,-0.2400601,-0.2400301,-0.2399301,-0.2398701000000001,-0.2398301,-0.2397701,-0.2397101,-0.2396401,-0.2395601,-0.2394501000000001,-0.2393901,-0.2393401,-0.2393001,-0.2392701,-0.2392301,-0.2391601,-0.2390501,-0.2390001,-0.2389501,-0.2389001,-0.2388701,-0.23874,-0.2386999999999999,-0.2385999999999999,-0.23856,-0.23855,-0.23854,-0.23852,-0.23849,-0.23847,-0.23845,-0.23843,-0.23839,-0.23836,-0.23833,-0.23831,-0.2383,-0.2382800000000001,-0.2382599999999999,-0.2382000000000001,-0.23811,-0.23805,-0.23802,-0.23798,-0.23794,-0.23791,-0.2379,-0.2379,-0.23791,-0.23794,-0.23799,-0.23818,-0.23823,-0.23824,-0.23823,-0.2381899999999999,-0.23813,-0.2380700000000001,-0.23798,-0.23788,-0.23783,-0.23778,-0.23776,-0.2377600000000001,-0.2377899999999999,-0.23782,-0.23783,-0.2378299999999999,-0.23779,-0.23768,-0.23762,-0.2375699999999999,-0.23745,-0.23736,-0.23725,-0.23715,-0.23709,-0.2367799,-0.2365899,-0.2363799,-0.2362699,-0.2361799,-0.2361099,-0.2360799,-0.2359999,-0.2359399,-0.2359199,-0.2358999000000001,-0.2358999,-0.2359199,-0.2359799,-0.2359499,-0.2358999,-0.2358699,-0.2358099,-0.2357299,-0.2355599,-0.2354999,-0.2354599,-0.2354599,-0.2355099,-0.2355599,-0.2356499,-0.2357399,-0.2357499,-0.2356999,-0.2355799,-0.2355499,-0.2353999,-0.2352899,-0.2352198,-0.2351498,-0.2351198,-0.2351098,-0.2351198,-0.2351098,-0.2350898,-0.2350598,-0.2349997999999999,-0.2348998,-0.2348298,-0.2348098,-0.2347898,-0.2347498,-0.2347298,-0.2346498,-0.2345698,-0.2345198,-0.2344698,-0.2344298,-0.2342598,-0.2341598,-0.2341197999999999,-0.2340398,-0.2339598,-0.2338598,-0.2338198,-0.2335097999999999,-0.2326697,-0.2323397,-0.2323297,-0.2321597,-0.2319797,-0.2319597,-0.2314096,-0.2310196,-0.2305896,-0.2302496,-0.2299095,-0.2296894999999999,-0.2294695,-0.2290595,-0.2290195,-0.2288995,-0.2287195,-0.2286395,-0.2285095,-0.2280494,-0.2278194000000001,-0.2272294,-0.2269994,-0.2268094,-0.2265294,-0.2265094,-0.2260293,-0.2257893,-0.2255693,-0.2247893,-0.2246993,-0.2241892,-0.2239692,-0.2232792,-0.2229292,-0.2224891,-0.2223091,-0.2222791,-0.2216991,-0.2216291,-0.2212791,-0.2212191000000001,-0.220849,-0.220769,-0.220759,-0.220749,-0.220679,-0.220569,-0.220399,-0.220279,-0.220019,-0.219899,-0.219499,-0.2192288999999999,-0.2189289,-0.2186089,-0.2182889,-0.2178889,-0.2172588,-0.2169188,-0.2167488,-0.2164888,-0.2159688,-0.2147587,-0.2143487,-0.2142287,-0.2138286,-0.2137786,-0.2137286,-0.2136586,-0.2136286,-0.2135986,-0.2134686,-0.2132786,-0.2131486,-0.2131286,-0.2130986,-0.2130486,-0.2130086,-0.2129786,-0.2129686,-0.2129686,-0.2128886,-0.2128286,-0.2127586,-0.2126886,-0.2125886,-0.2124786,-0.2124686,-0.2123886,-0.2123286,-0.2122184999999999,-0.2121185,-0.2119485,-0.2119585,-0.2118085,-0.2117285,-0.2116385,-0.2114585,-0.2113185,-0.2109185,-0.2106085,-0.2101084,-0.2097384,-0.2096084,-0.2094784,-0.2093084,-0.2092884,-0.2089384,-0.2089184,-0.2084083,-0.2081083,-0.2079782999999999,-0.2072683,-0.2069882,-0.2068882,-0.2068082,-0.2067182,-0.2066482,-0.2066182,-0.2065982,-0.2063582,-0.2062482,-0.2062082,-0.2061782,-0.2061482,-0.2060682,-0.2060381999999999,-0.2059982,-0.2059882,-0.2059682,-0.2059582,-0.2059582,-0.2059582,-0.2059582,-0.2059682,-0.2059682,-0.2059682,-0.2059582,-0.2059382,-0.2059182,-0.2058982,-0.2058882,-0.2058782,-0.2058682,-0.2058082,-0.2057082,-0.2056082,-0.2054182,-0.2053782,-0.2053282,-0.2052981999999999,-0.2052281,-0.2051081,-0.2050881,-0.2050681,-0.2050381,-0.2049981,-0.2049681,-0.2049081,-0.2048681,-0.2048081,-0.2046881,-0.2045681,-0.2043681,-0.2041681,-0.2038181,-0.2035481,-0.203108,-0.202728,-0.202398,-0.202258,-0.202058,-0.201818,-0.2014979,-0.2013879,-0.2010279,-0.2006379,-0.2001079,-0.1996478,-0.1994378,-0.1994278,-0.1994378,-0.1994478,-0.1995478,-0.1995978,-0.1996178,-0.1996178,-0.1995678,-0.1994878,-0.1994078,-0.1993878,-0.1993477999999999,-0.1992978,-0.1992478,-0.1991778,-0.1990378,-0.1989378,-0.1988078,-0.1987078,-0.1985978,-0.1985778,-0.1985578,-0.1985478,-0.1985378,-0.1985378,-0.1985278,-0.1985078,-0.1984878,-0.1984578,-0.1984278,-0.1983678,-0.1981978,-0.1979777,-0.1975677,-0.1973077,-0.1972277,-0.1970977,-0.1970177,-0.1968677,-0.1968477,-0.1966777,-0.1967077,-0.1967377,-0.1967577,-0.1967977,-0.1968577,-0.1968777,-0.1968877,-0.1968777,-0.1968877,-0.1969677,-0.1969677,-0.1969577,-0.1969577,-0.1969577,-0.1969577,-0.1969477,-0.1969577,-0.1969477,-0.1969377,-0.1969277,-0.1968877,-0.1968677,-0.1968277,-0.1967877,-0.1966677,-0.1966377,-0.1962476,-0.1961276,-0.1960176,-0.1958076,-0.1956676,-0.1954476,-0.1953276,-0.1952576,-0.1951976,-0.1951076,-0.1948776,-0.1946375,-0.1946175,-0.1946175,-0.1945775,-0.1944075,-0.1943775,-0.1942575,-0.1940875,-0.1940175,-0.1938875,-0.1938375,-0.1937575,-0.1936875,-0.1935975,-0.1935175,-0.1933975,-0.1932275,-0.1930675,-0.1929275,-0.1927874,-0.1926774,-0.1923474,-0.1920474,-0.1917874,-0.1916874,-0.1915674,-0.1915074,-0.1914074,-0.1912874,-0.1911874,-0.1910473,-0.1909073,-0.1908473,-0.1907973,-0.1907673,-0.1907473,-0.1907173,-0.1906973,-0.1906873,-0.1906773,-0.1906273,-0.1905873,-0.1905473,-0.1904673,-0.1904373,-0.1904273,-0.1904173,-0.1903973,-0.1903873,-0.1903673,-0.1903373,-0.1903273,-0.1903073,-0.1902773,-0.1902673,-0.1902573,-0.1902473,-0.1902173,-0.1901973,-0.1901873,-0.1901873,-0.1901873,-0.1901973,-0.1902073,-0.1902073,-0.1901973,-0.1901973,-0.1901873,-0.1901773,-0.1901573,-0.1901173,-0.1901373,-0.1901173,-0.1901073,-0.1900673,-0.1900573,-0.1900373,-0.1900373,-0.1900372999999999,-0.1900373,-0.1900373,-0.1900273,-0.1899973,-0.1899773,-0.1899273,-0.1899073,-0.1898973,-0.1898773,-0.1898173,-0.1897773,-0.1896873,-0.1895373,-0.1895073,-0.1894373,-0.1894073,-0.1893572,-0.1892672,-0.1892272,-0.1891472,-0.1890072,-0.1888672,-0.1887572,-0.1886872,-0.1886272,-0.1885472,-0.1883972,-0.1883372,-0.1881872,-0.1881072,-0.1879072,-0.1878472,-0.1877572,-0.1876672,-0.1875771,-0.1875171,-0.1872971,-0.1871971,-0.1871471,-0.1870871,-0.1870571000000001,-0.1870370999999999,-0.1870271,-0.1870171,-0.1870171,-0.1870171,-0.1870071,-0.1869771,-0.1868971,-0.1865071,-0.1862171,-0.1861671,-0.185757,-0.185337,-0.185107,-0.184977,-0.184807,-0.184627,-0.184367,-0.184117,-0.1840870000000001,-0.1838469,-0.1835669,-0.1836069,-0.1834769,-0.1837569,-0.1836269,-0.1835469,-0.1834869,-0.1833469,-0.1833069,-0.1832069,-0.1830769,-0.1827569,-0.1825469,-0.1823969,-0.1822368,-0.1821968,-0.1821768,-0.1821568,-0.1821268,-0.1820668,-0.1819768,-0.1819368,-0.1817568,-0.1814768,-0.1809768,-0.1808968,-0.1809168,-0.1809268,-0.1809668,-0.1810468,-0.1810668,-0.1810268,-0.1808068,-0.1805668,-0.1802367,-0.1797967,-0.1791767,-0.1788167,-0.1787967,-0.1787466,-0.1786966,-0.1786466,-0.1785966,-0.1785666,-0.1783866,-0.1783266,-0.1782366,-0.1781866,-0.1781366,-0.1781066,-0.1781066,-0.1781166,-0.1781366,-0.1781966,-0.1782166,-0.1779366,-0.1778266,-0.1777566,-0.1777366,-0.1776766,-0.1773666,-0.1770566,-0.1769165,-0.1766065,-0.1762465,-0.1760765,-0.1759965,-0.1759465,-0.1759465,-0.1759165,-0.1752565,-0.1752264,-0.1751764,-0.1749564,-0.1744764,-0.1744164,-0.1743464,-0.1742764,-0.1742264,-0.1741864,-0.1741464,-0.1741064,-0.1740564,-0.1739364,-0.1739264,-0.1739064,-0.1738364,-0.1737964,-0.1737964,-0.1738164,-0.1738164,-0.1738164,-0.1738064,-0.1738064,-0.1737964,-0.1737864,-0.1737864,-0.1737764,-0.1737464000000001,-0.1737064,-0.1736364,-0.1735264,-0.1734763,-0.1734663,-0.1733263,-0.1731563,-0.1727163,-0.1723563,-0.1722463,-0.1721763,-0.1721163,-0.1720563,-0.1720263,-0.1719063,-0.1719063,-0.1718863,-0.1718563,-0.1717963,-0.1713362,-0.1713062,-0.1713062,-0.1712962,-0.1712962,-0.1712662,-0.1712662,-0.1712762,-0.1695261,-0.1695161,-0.1695261,-0.1695561,-0.1696361,-0.1696761,-0.1695961,-0.1696761,-0.1697761,-0.1695961,-0.1693861,-0.1683361,-0.168136,-0.167806,-0.167686,-0.167136,-0.167216,-0.167406,-0.167426,-0.167376,-0.167256,-0.167096,-0.166886,-0.166906,-0.167066,-0.167126,-0.167136,-0.167186,-0.167266,-0.167266,-0.167276,-0.167256,-0.167256,-0.167186,-0.167096,-0.167046,-0.166986,-0.166926,-0.166916,-0.1662359,-0.1663959,-0.1663859,-0.1661559,-0.1657959,-0.1657659,-0.1652259,-0.1649359,-0.1650859,-0.1646258,-0.1643258,-0.1637758,-0.1637258,-0.1636758,-0.1635858,-0.1634458,-0.1632258,-0.1630858,-0.1629558,-0.1628857,-0.1628057,-0.1627757,-0.1627457,-0.1626657,-0.1625357,-0.1623957,-0.1623357,-0.1621057,-0.1619657,-0.1615657,-0.1614457,-0.1614157,-0.1613657,-0.1612857,-0.1612457,-0.1611957,-0.1611557,-0.1609456,-0.1604556,-0.1603156,-0.1600956,-0.1599256,-0.1596856,-0.1596256,-0.1592455,-0.1580055,-0.1579655,-0.1579655,-0.1574454,-0.1572054,-0.1574054,-0.1574754,-0.1574754,-0.1575954,-0.1575954,-0.1578755,-0.1585255,-0.1587455,-0.1587555,-0.1587555,-0.1586855,-0.1586955,-0.1602956,-0.1601456,-0.1601356,-0.1601356,-0.1601256,-0.1601256,-0.1601156,-0.1601856,-0.1601756,-0.1601756,-0.1601756,-0.1602056,-0.1597956,-0.1598056,-0.1598356,-0.1598456,-0.1598856,-0.1598656,-0.1598456,-0.1597656,-0.1595656,-0.1594756,-0.1593455,-0.1592755,-0.1592155,-0.1591255,-0.1587455,-0.1587355,-0.1587355,-0.1587555,-0.1588755,-0.1589255,-0.1595856,-0.1597556,-0.1598356,-0.1599056,-0.1600256,-0.1600556,-0.1602656,-0.1603256,-0.1603456,-0.1604756,-0.1606056,-0.1607156,-0.1607656,-0.1608156,-0.1608456,-0.1609156,-0.1609956,-0.1610156,-0.1610656,-0.1610756,-0.1610656,-0.1610756,-0.1610956,-0.1611056,-0.1611457,-0.1613557,-0.1616157,-0.1618357,-0.1618157,-0.1618157,-0.1618257,-0.1618257,-0.1618157,-0.1617757,-0.1599756,-0.1587355,-0.1585155,-0.1582155,-0.1577955,-0.1575654,-0.1571354,-0.1565454,-0.1565354,-0.1565454,-0.1564154,-0.1564054,-0.1561754,-0.1560454,-0.1559254,-0.1560254,-0.1561054,-0.1561454,-0.1561654,-0.1561454,-0.1560854,-0.1557553,-0.1555253,-0.1552053,-0.1549253,-0.1547453,-0.1546253,-0.1544453,-0.1541853,-0.1541253,-0.1540452,-0.1536652,-0.1534752,-0.1534452,-0.1534052,-0.1533952,-0.1533952,-0.1534952,-0.1535052,-0.1534952,-0.1534852,-0.1534052,-0.1533652,-0.1533352,-0.1532452,-0.1532152,-0.1531752,-0.1531252,-0.1530552,-0.1530152,-0.1529552,-0.1528052,-0.1523051,-0.1520951,-0.1520551,-0.1520351,-0.1518451,-0.1514051,-0.1513251,-0.1512251,-0.1512151,-0.150365,-0.149995,-0.149715,-0.148995,-0.1486549,-0.1480549,-0.1479849,-0.1479549,-0.1474349,-0.1475349,-0.1472049,-0.1470749,-0.1470549,-0.1469248,-0.1468748,-0.1465948,-0.1461448,-0.1460748,-0.1457648,-0.1453148,-0.1451147,-0.1448547,-0.1447247,-0.1446047,-0.1445147,-0.1445547,-0.1445647,-0.1445447,-0.1445147,-0.1444847,-0.1444247,-0.1443747,-0.1443547,-0.1443147,-0.1442947,-0.1442447,-0.1442247,-0.1439547,-0.1439047,-0.1438747,-0.1438547,-0.1438147,-0.1437347,-0.1437047,-0.1436447,-0.1436047,-0.1435647,-0.1434546,-0.1433046,-0.1432646,-0.1432546,-0.1431846,-0.1431146,-0.1430446,-0.1429346,-0.1429146,-0.1428546,-0.1428046,-0.1427746,-0.1427346,-0.1426946,-0.1426146,-0.1425546,-0.1424846,-0.1423846,-0.1422546,-0.1421946,-0.1421446,-0.1421146,-0.1420946,-0.1420846,-0.1420846,-0.1420946,-0.1420946,-0.1420746,-0.1420046,-0.1420046,-0.1420046,-0.1420046,-0.1420246,-0.1420346,-0.1420246,-0.1420246,-0.1420346,-0.1420746,-0.1421546,-0.1422146,-0.1422346,-0.1422846,-0.1423446,-0.1424446,-0.1424746,-0.1425446,-0.1426846,-0.1427546,-0.1427946,-0.1428246,-0.1428546,-0.1428846,-0.1429146,-0.1429846,-0.1431046,-0.1431846,-0.1431946,-0.1432046,-0.1432246,-0.1432746,-0.1433446,-0.1433946,-0.1434446,-0.1434446,-0.1434446,-0.1434546,-0.1434646,-0.1432646,-0.1430146,-0.1424846,-0.1419646,-0.1414645,-0.1409145,-0.1403545,-0.1399745,-0.1397244,-0.1395144,-0.1392244,-0.1390144,-0.1388044,-0.1387844,-0.1387544,-0.1390944,-0.1395544,-0.1398644,-0.1401945,-0.1405545,-0.1410945,-0.1414745,-0.1419646,-0.1421146,-0.1424446,-0.1432246,-0.1436947,-0.1442647,-0.1445347,-0.1445447,-0.1442647,-0.1436247,-0.1431846,-0.1428146,-0.1427546,-0.1427346,-0.1420846,-0.1420946,-0.1421146,-0.1420546,-0.1421546,-0.1420846,-0.1420546,-0.1420146,-0.1419946,-0.1418746,-0.1418846,-0.1418946,-0.1418346,-0.1416845,-0.1416645,-0.1416545,-0.1416545,-0.1416545,-0.1415145,-0.1413945,-0.1413645,-0.1413345,-0.1413145,-0.1413145,-0.1413245,-0.1410845,-0.1410345,-0.1410245,-0.1409445,-0.1409145,-0.1408745,-0.1408145,-0.1407545,-0.1406645,-0.1405645,-0.1404545,-0.1402945,-0.1400845,-0.1397644,-0.1398144,-0.1397944,-0.1398044,-0.1397844,-0.1397744,-0.1395144,-0.1393444,-0.1393344,-0.1392444,-0.1391444,-0.1386344,-0.1383544,-0.1380643,-0.1376643,-0.1376643,-0.1376443,-0.1376043,-0.1375143,-0.1375043,-0.1375043,-0.1374743,-0.1374543,-0.1373843,-0.1373843,-0.1373443,-0.1373343,-0.1372243,-0.1372343,-0.1371743,-0.1371443,-0.1370543,-0.1370543,-0.1369743,-0.1369443,-0.1366243,-0.1363042,-0.1359342,-0.1358742,-0.1357442,-0.1356242,-0.1354542,-0.1354542,-0.1354442,-0.1354442,-0.1354542,-0.1354942,-0.1355142,-0.1355442,-0.1355442,-0.1353842,-0.1353642,-0.1353442,-0.1353142,-0.1351842,-0.1351542,-0.1351242,-0.1350942,-0.1349942,-0.1348942,-0.1347742,-0.1345741,-0.1345141,-0.1344241,-0.1343841,-0.1342941,-0.1342541,-0.1342141,-0.1342541,-0.1342541,-0.1342541,-0.1342641,-0.1342841,-0.1342941,-0.1342541,-0.1342841,-0.1343041,-0.1343041,-0.1342841,-0.1342541,-0.1342441,-0.1342141,-0.1341541,-0.1341341,-0.1341041,-0.1340741,-0.1339941,-0.1338141,-0.1337541,-0.1336341,-0.1335341,-0.1335541,-0.1335341,-0.1334041,-0.1333841,-0.1333441,-0.1333141,-0.1332541,-0.1331241,-0.1330741,-0.1330541,-0.1330041,-0.1329041,-0.132794,-0.132604,-0.132424,-0.132344,-0.132234,-0.132164,-0.132134,-0.132064,-0.131804,-0.131234,-0.131354,-0.1310939,-0.131144,-0.1309639,-0.1307439,-0.1305839,-0.1304939,-0.1304639,-0.1304939,-0.1306839,-0.1309239,-0.1310539,-0.131204,-0.1308439,-0.1308339,-0.1307839,-0.1307239,-0.1305039,-0.1302239,-0.1298339,-0.1298039,-0.1297939,-0.1297339,-0.1296939,-0.1296339,-0.1296239,-0.1295539,-0.1295039,-0.1294239,-0.1293038,-0.1293438,-0.1292338,-0.1292138,-0.1291538,-0.1291338,-0.1292638,-0.1293538,-0.1294339,-0.1299139,-0.1303739,-0.1310339,-0.1311039,-0.131184,-0.131254,-0.131364,-0.131814,-0.132194,-0.132524,-0.132584,-0.1329841,-0.1332941,-0.1336341,-0.1337041,-0.1337741,-0.1339041,-0.1336841,-0.1338341,-0.1339141,-0.1339941,-0.1339941,-0.1340441,-0.1341041,-0.1342641,-0.1344341,-0.1344241,-0.1342541,-0.1345241,-0.1342441,-0.1342741,-0.1343441,-0.1344341,-0.1345341,-0.1346942,-0.1348642,-0.1349942,-0.1350642,-0.1352542,-0.1354342,-0.1357642,-0.1360342,-0.1364343,-0.1372443,-0.1376643,-0.1378343,-0.1378743,-0.1380943,-0.1383344,-0.1383944,-0.1386944,-0.1389544,-0.1392144,-0.1394444,-0.1395944,-0.1398744,-0.1400045,-0.1400845,-0.1401445,-0.1401745,-0.1402045,-0.1402345,-0.1402745,-0.1403745,-0.1405645,-0.1407845,-0.1408145,-0.1410645,-0.1413645,-0.1415445,-0.1418346,-0.1420746,-0.1422946,-0.1421246,-0.1425846,-0.1427046,-0.1429946,-0.1431146,-0.1436747,-0.1437947,-0.1438447,-0.1439147,-0.1446047,-0.1450147,-0.1450947,-0.1468848,-0.1478249,-0.1478349,-0.1479449,-0.1479749,-0.1480249,-0.1482149,-0.1484849,-0.1486649,-0.1487449,-0.148815,-0.148855,-0.148965,-0.149135,-0.149125,-0.149085,-0.149085,-0.149125,-0.149125,-0.149175,-0.149755,-0.150515,-0.1507951,-0.1510951,-0.1513251,-0.1516351,-0.1515551,-0.1520451,-0.1521251,-0.1520651,-0.1519351,-0.1518351,-0.1516551,-0.1514551,-0.1512551,-0.1513451,-0.1510851,-0.1515851,-0.1517851,-0.1523152,-0.1522651,-0.1522351,-0.1517951,-0.1512951,-0.1506751,-0.150375,-0.150105,-0.149895,-0.150145,-0.150455,-0.150545,-0.1507051,-0.1507351,-0.1508551,-0.1509651,-0.1510151,-0.1512951,-0.1522751,-0.1523352,-0.1523852,-0.1524052,-0.1524352,-0.1524352,-0.1524352,-0.1524352,-0.1524452,-0.1524752,-0.1524952,-0.1525152,-0.1525452,-0.1525752,-0.1526552,-0.1527152,-0.1527852,-0.1528452,-0.1528652,-0.1530052,-0.1529952,-0.1530052,-0.1530552,-0.1530652,-0.1530852,-0.1532352,-0.1532752,-0.1533152,-0.1533452,-0.1533952,-0.1534652,-0.1534752,-0.1535452,-0.1536752,-0.1539152,-0.1540252,-0.1541253,-0.1541853,-0.1542253,-0.1541553,-0.1540752,-0.1534252,-0.1535152,-0.1534752,-0.1534552,-0.1534352,-0.1534252,-0.1534152,-0.1534152,-0.1534152,-0.1534252,-0.1535452,-0.1536152,-0.1536052,-0.1537252,-0.1537552,-0.1537852,-0.1538452,-0.1538852,-0.1541053,-0.1543553,-0.1545153,-0.1545653,-0.1545953,-0.1546353,-0.1546553,-0.1546753,-0.1546953,-0.1547153,-0.1547353,-0.1549053,-0.1550753,-0.1552153,-0.1554553,-0.1559154,-0.1571154,-0.1576055,-0.1578355,-0.1578655,-0.1579555,-0.1581155,-0.1582055,-0.1582655,-0.1590355,-0.1598056,-0.1604456,-0.1604756,-0.1608256,-0.1612857,-0.1622657,-0.1627057,-0.1627657,-0.1635458,-0.1648059,-0.1650859,-0.1650959,-0.1659059,-0.166806,-0.167456,-0.168146,-0.1689761,-0.1692561,-0.1696361,-0.1697261,-0.1699361,-0.1702362,-0.1705262,-0.1708462,-0.1710862,-0.1711862,-0.1712662,-0.1715662,-0.1716162,-0.1719263,-0.1721463,-0.1726163,-0.1731063,-0.1737764,-0.1749964,-0.1755465,-0.1755765,-0.1759565,-0.1766165,-0.1772166,-0.1774466,-0.1775766,-0.1780266,-0.1788767,-0.1791067,-0.1797667,-0.1798867,-0.1798967,-0.1801967,-0.1804867,-0.1813268,-0.1823469,-0.1831369,-0.1838569,-0.184617,-0.185427,-0.1858771,-0.1859071,-0.185787,-0.185507,-0.185337,-0.185297,-0.185197,-0.185147,-0.185087,-0.184937,-0.184847,-0.184787,-0.184677,-0.184577,-0.184507,-0.184247,-0.1840769,-0.1837469,-0.1831969,-0.1827269,-0.1822968,-0.1820068,-0.1819768,-0.1820968,-0.1825069,-0.1849569999999999,-0.184977,-0.185817,-0.1878072,-0.1889672,-0.1894773,-0.1893973,-0.1903373,-0.1909473,-0.1910073,-0.1910673,-0.1912174,-0.1915274,-0.1918274,-0.1922474,-0.1925274,-0.1938275,-0.1951376,-0.1957576,-0.1966677,-0.1966477,-0.1960476,-0.1956076,-0.1953276,-0.1952976,-0.1948576,-0.1956276,-0.1961576,-0.1966077,-0.1969277,-0.1973477,-0.1985878,-0.1986978,-0.1988378,-0.1989878,-0.1990978,-0.1991878,-0.1993378,-0.1994978,-0.1996678,-0.1998678,-0.1998478],"lat":[51.6702109,51.6701709,51.6701109,51.67010089999999,51.6701109,51.67016090000001,51.6693509,51.66917079999999,51.66900080000001,51.6685008,51.6678507,51.66798070000001,51.66805069999999,51.6681308,51.66820080000001,51.66826079999999,51.66837080000001,51.6685208,51.66864079999999,51.6685308,51.6674707,51.6671607,51.6666406,51.6676107,51.6670007,51.6661806,51.6653505,51.6629103,51.6628503,51.6622302,51.6618702,51.6616702,51.6615402,51.6614102,51.66165019999999,51.6620102,51.6624403,51.6623903,51.66191019999999,51.6617602,51.66068010000001,51.6601201,51.6608601,51.6608101,51.6607201,51.66053009999999,51.66004,51.65982,51.65923,51.65867989999999,51.6581899,51.65792990000001,51.6576998,51.6575498,51.6572298,51.6573398,51.65762979999999,51.65794990000001,51.6585399,51.6586599,51.65891999999999,51.65926,51.65928,51.65945999999999,51.65962,51.66003,51.65998,51.66004,51.65993,51.6598,51.65981,51.65973,51.65953,51.65948,51.65944,51.65937,51.65929,51.65887989999999,51.6585999,51.6584999,51.6584399,51.6583999,51.6583199,51.6586399,51.65906999999999,51.65908,51.65909000000001,51.65902,51.65896,51.6588999,51.6588499,51.6587399,51.65869989999999,51.6586699,51.6584799,51.6583199,51.6578599,51.6577098,51.6574698,51.6573498,51.6572498,51.65690980000001,51.6572798,51.65712980000001,51.65703979999999,51.6569498,51.6568998,51.6568698,51.6568498,51.6568398,51.6568398,51.6568198,51.6567598,51.65666979999999,51.6566498,51.65661979999999,51.6565697,51.6563897,51.6562097,51.6559997,51.6559497,51.6557597,51.6556597,51.65532959999999,51.6554596,51.6556497,51.65572969999999,51.6559397,51.6560297,51.6561397,51.6562497,51.6561497,51.6561197,51.6561297,51.6562197,51.6561897,51.6561797,51.6561597,51.6561397,51.6560097,51.6558897,51.65580970000001,51.6557597,51.6556197,51.6555997,51.6553996,51.6553496,51.65529959999999,51.65514959999999,51.6550696,51.65495960000001,51.6548896,51.6548496,51.65478960000001,51.65473959999999,51.6546896,51.6521694,51.6503192,51.6495291,51.6490091,51.6487791,51.648469,51.64842899999999,51.64802900000001,51.64757899999999,51.6472889,51.6469789,51.6466389,51.64621880000001,51.6456988,51.6447887,51.64425869999999,51.6437586,51.6436886,51.64351860000001,51.6434286,51.6433786,51.6433386,51.6435886,51.6432386,51.6426785,51.6420585,51.6419285,51.6419785,51.6420085,51.6420385,51.64205849999999,51.6420885,51.6421785,51.6422085,51.6422385,51.64231849999999,51.6423385,51.64242850000001,51.64248849999999,51.64251849999999,51.6425485,51.6426285,51.6427585,51.6428486,51.6428886,51.6429486,51.6431286,51.64318859999999,51.6433386,51.6434286,51.6434986,51.6436786,51.64375860000001,51.6437886,51.6438386,51.6439686,51.64406870000001,51.64413869999999,51.6441987,51.6442787,51.64436870000001,51.6445087,51.64465869999999,51.6447087,51.6447987,51.64485869999999,51.6448887,51.6449087,51.64385859999999,51.6439086,51.64369860000001,51.6437786,51.64382860000001,51.6438786,51.6439086,51.6439386,51.6439887,51.6439787,51.6440987,51.6441187,51.6441887,51.6439086,51.6438686,51.64369860000001,51.6436586,51.64356859999999,51.6433386,51.6431386,51.6428486,51.6424685,51.6423885,51.64232849999999,51.6423585,51.6422485,51.6421685,51.64213849999999,51.6421285,51.6421685,51.6421885,51.6421785,51.6420385,51.6418385,51.6415084,51.6413284,51.64126839999999,51.6411384,51.6408784,51.6405384,51.6403483,51.6399583,51.6393883,51.6391782,51.6390882,51.6389982,51.6389282,51.63884820000001,51.6387582,51.6387882,51.63882819999999,51.63884820000001,51.6388682,51.6388882,51.63894819999999,51.63885819999999,51.6387582,51.6386782,51.6385782,51.63853820000001,51.63847819999999,51.6384082,51.6383882,51.6383682,51.63837820000001,51.6383982,51.6383982,51.6384282,51.6380981,51.63787809999999,51.6376881,51.6375081,51.6372081,51.6371481,51.637028,51.63693800000001,51.636858,51.636778,51.636728,51.636598,51.63657799999999,51.636558,51.636668,51.63668799999999,51.636698,51.63674799999999,51.636668,51.63656799999999,51.636568,51.636558,51.636508,51.636458,51.636078,51.635988,51.6358079,51.63572790000001,51.63552790000001,51.6358179,51.63584789999999,51.63587789999999,51.6358579,51.63584789999999,51.63584789999999,51.63584789999999,51.6358079,51.6358279,51.6358279,51.63584789999999,51.6358779,51.6358979,51.635928,51.63597799999999,51.636028,51.636048,51.636168,51.636208,51.636238,51.63635799999999,51.636458,51.636238,51.63636799999999,51.636388,51.636408,51.63641800000001,51.636468,51.636528,51.636558,51.636578,51.63656799999999,51.636528,51.636468,51.636408,51.636438,51.63644799999999,51.636418,51.636298,51.636148,51.6358179,51.6355979,51.6354379,51.63525790000001,51.6347779,51.6346078,51.6344278,51.63422779999999,51.6339978,51.6338878,51.6337678,51.63364780000001,51.6335377,51.6334877,51.6334277,51.6333477,51.6332277,51.6330677,51.6329177,51.6327077,51.6325677,51.6323376,51.6321376,51.6319676,51.63182760000001,51.6317276,51.6316476,51.6314976,51.63132760000001,51.6309875,51.6305375,51.6304975,51.6303375,51.63021750000001,51.6300874,51.6299874,51.6299174,51.6297974,51.6295774,51.62941739999999,51.6291974,51.6288573,51.62858730000001,51.6284073,51.6281173,51.62783719999999,51.6275872,51.6273872,51.6271972,51.6270672,51.6268472,51.6267272,51.62664710000001,51.6265271,51.6263271,51.6261771,51.62595710000001,51.62585709999999,51.62557709999999,51.62542699999999,51.625257,51.625217,51.624897,51.624727,51.624527,51.6243369,51.6240969,51.6238969,51.6236769,51.6234569,51.6232368,51.6227968,51.6225768,51.6223968,51.6222668,51.6221268,51.62200669999999,51.6219167,51.6217967,51.6214667,51.6210967,51.62097670000001,51.6208866,51.6205766,51.6200166,51.61936649999999,51.61886649999999,51.6181164,51.6180564,51.6179064,51.6177664,51.6176264,51.6174763,51.61737629999999,51.6172763,51.6170963,51.6166963,51.61641629999999,51.6161062,51.6158962,51.61566620000001,51.61555620000001,51.6153962,51.6151661,51.61497609999999,51.6148261,51.6145961,51.6143861,51.613676,51.613506,51.613176,51.61270589999999,51.6123659,51.6121159,51.6118559,51.6115758,51.6113058,51.61107579999999,51.6109158,51.6108458,51.6108358,51.6108258,51.6107758,51.6106358,51.6104557,51.6103457,51.6101457,51.6099957,51.60981569999999,51.6096757,51.6094756,51.60933559999999,51.60924559999999,51.6090856,51.60904559999999,51.6089756,51.60889559999999,51.6088456,51.6087956,51.6087056,51.60866559999999,51.6086456,51.6085856,51.6085456,51.6085056,51.6084456,51.60834560000001,51.6081955,51.6080555,51.6079155,51.60785549999999,51.6078155,51.6075955,51.6074455,51.6073355,51.60723549999999,51.6071354,51.6070954,51.6070854,51.6069854,51.6068254,51.6065754,51.6063954,51.60635540000001,51.6059353,51.6057553,51.60524530000001,51.6046052,51.6040652,51.60363510000001,51.60325510000001,51.60275509999999,51.601845,51.601605,51.6012749,51.6010549,51.6008849,51.6006649,51.6006049,51.6005049,51.6004249,51.6003649,51.6000448,51.5998248,51.5994948,51.59913479999999,51.5989347,51.5986547,51.5985647,51.5984047,51.5983047,51.5980747,51.5979847,51.5979146,51.5978246,51.59775459999999,51.5976746,51.5975246,51.5974346,51.5972746,51.5971646,51.5970846,51.5969846,51.5968446,51.59674450000001,51.5966345,51.5963145,51.59612449999999,51.59519439999999,51.59491440000001,51.5947144,51.59458439999999,51.5944543,51.5943443,51.59432429999999,51.5942143,51.5940443,51.5938043,51.5935143,51.59307419999999,51.5927742,51.5927342,51.5926642,51.5924242,51.5923242,51.59223420000001,51.5921141,51.5919141,51.5919041,51.5917841,51.5913441,51.5911641,51.590944,51.590644,51.590304,51.590204,51.58999399999999,51.5899039,51.58969390000001,51.5894639,51.5892039,51.5890339,51.5888539,51.5886738,51.5885238,51.5883638,51.5879438,51.5875937,51.58728370000001,51.58717369999999,51.5869937,51.5869137,51.5867637,51.58659369999999,51.5862136,51.58603360000001,51.5855636,51.5852935,51.58514350000001,51.5848135,51.5845935,51.5845135,51.5844835,51.58444350000001,51.5844235,51.5842035,51.5840334,51.5840234,51.5837334,51.5836734,51.58358339999999,51.5830834,51.58290330000001,51.58271329999999,51.5825233,51.5824333,51.5823933,51.5823833,51.5823833,51.5823933,51.5823233,51.5822933,51.58221330000001,51.5821733,51.58205330000001,51.5819433,51.5818632,51.5818232,51.58178319999999,51.58175319999999,51.5817132,51.58168319999999,51.58164319999999,51.5816032,51.58155319999999,51.58148320000001,51.5814432,51.5812932,51.58118320000001,51.5810432,51.5809232,51.58083320000001,51.5807832,51.58073319999999,51.5806631,51.58059309999999,51.5805431,51.5804831,51.58041309999999,51.5803531,51.5803431,51.5802531,51.5801231,51.5799731,51.5798731,51.57981309999999,51.5797331,51.57964310000001,51.579443,51.579293,51.579233,51.579163,51.57915300000001,51.579123,51.579093,51.579073,51.579033,51.578893,51.578863,51.578833,51.57878299999999,51.578753,51.578703,51.578613,51.578573,51.578523,51.578443,51.5784229,51.57836289999999,51.5782529,51.5782029,51.5781429,51.57810289999999,51.5780229,51.5779629,51.5778829,51.5778129,51.5777329,51.5776829,51.5775829,51.57742289999999,51.5774129,51.57730290000001,51.57724280000001,51.5770928,51.5770028,51.57693279999999,51.57684279999999,51.5767728,51.57659280000001,51.5763828,51.5762728,51.57617279999999,51.5759227,51.5759027,51.57572269999999,51.5756427,51.57555269999999,51.5752527,51.5749927,51.5749226,51.5748526,51.5746426,51.5745726,51.5745226,51.5745126,51.5744826,51.5744426,51.5743626,51.5741926,51.57416260000001,51.5741126,51.5740826,51.57404260000001,51.5740026,51.57396259999999,51.5739126,51.57383249999999,51.5737125,51.57358250000001,51.57346249999999,51.57345249999999,51.5734125,51.5733425,51.5732925,51.57322250000001,51.57315249999999,51.57313249999999,51.57309249999999,51.57307249999999,51.5730525,51.5729925,51.57297250000001,51.57297250000001,51.57297250000001,51.57297250000001,51.57297250000001,51.5729625,51.5729425,51.5729225,51.5729125,51.57289249999999,51.5728525,51.5728325,51.5728125,51.5728025,51.5727925,51.5727725,51.5727525,51.5727325,51.5727025,51.5726925,51.5726824,51.57267239999999,51.5726624,51.5726524,51.5726424,51.57260240000001,51.5725124,51.5724724,51.5724524,51.5724124,51.57233239999999,51.57224239999999,51.5721724,51.5721524,51.57210240000001,51.5720524,51.5720124,51.5719224,51.57182239999999,51.57179240000001,51.5717424,51.5716324,51.5716224,51.5716124,51.5715924,51.5715424,51.5714723,51.5714423,51.57142229999999,51.57141230000001,51.57140229999999,51.5713723,51.5713523,51.5713323,51.57128230000001,51.57125229999999,51.5711823,51.57108230000001,51.5710223,51.5708923,51.57077229999999,51.5707323,51.57069229999999,51.5705623,51.5704223,51.5703222,51.57026219999999,51.57025220000001,51.5701622,51.5701122,51.5699422,51.5697622,51.5697222,51.5694722,51.5693322,51.5692622,51.5691821,51.56912209999999,51.56907210000001,51.56901209999999,51.56901209999999,51.5690121,51.5690021,51.5689821,51.5689621,51.5689221,51.5688821,51.5688121,51.56874209999999,51.5686721,51.5686421,51.56863209999999,51.5686421,51.5686821,51.5687521,51.5687721,51.56878210000001,51.5687821,51.5687821,51.56878210000001,51.5687721,51.5687621,51.5687521,51.56875209999999,51.56874209999999,51.5687321,51.5687321,51.5687121,51.5687021,51.56867210000001,51.56865209999999,51.5686421,51.5686221,51.5686121,51.5686021,51.5685921,51.5685921,51.5686021,51.5686121,51.5686421,51.5686821,51.5686921,51.5687021,51.5687121,51.5687221,51.5687321,51.56874209999999,51.5687521,51.5687721,51.5687821,51.5687921,51.56884209999999,51.5688921,51.5689621,51.5689721,51.5689921,51.5690421,51.5690521,51.56907210000001,51.5690821,51.56909210000001,51.56910209999999,51.56912209999999,51.56914210000001,51.5691521,51.5691621,51.5691521,51.5691421,51.5691321,51.56910209999999,51.5690921,51.5690921,51.5690921,51.5690921,51.5690921,51.56910209999999,51.5691421,51.5691521,51.5692221,51.5692622,51.5693022,51.5693922,51.5694022,51.56942220000001,51.5694622,51.5694922,51.56952219999999,51.5695322,51.5695722,51.5695922,51.5696322,51.5696422,51.56967219999999,51.5698322,51.56990219999999,51.56999219999999,51.5700122,51.5700522,51.57007220000001,51.5700722,51.5700722,51.5700622,51.57005220000001,51.57003220000001,51.56990219999999,51.5698922,51.5698922,51.5699022,51.5699322,51.5699422,51.5699522,51.5701122,51.5702122,51.57027219999999,51.5704223,51.5705323,51.57061229999999,51.5707123,51.5707823,51.57087229999999,51.57095229999999,51.5710523,51.5711023,51.5711423,51.5711823,51.5712523,51.57133229999999,51.5713823,51.5715624,51.57158239999999,51.5716724,51.57173239999999,51.57180239999999,51.5718524,51.57202239999999,51.57220239999999,51.5722824,51.57229239999999,51.57230240000001,51.57230240000001,51.5722724,51.57220239999999,51.5720724,51.5720324,51.5720024,51.5720024,51.57204240000001,51.5721324,51.5722624,51.5723224,51.57238239999999,51.57240239999999,51.5724524,51.57254239999999,51.57260240000001,51.5726624,51.5726925,51.5726424,51.5726224,51.5726124,51.5725224,51.5724624,51.5724324,51.5724124,51.5724324,51.5725024,51.5725524,51.5726124,51.5726224,51.5726324,51.5726324,51.5726224,51.5726124,51.5725924,51.5725924,51.57260240000001,51.5726224,51.5726524,51.5726824,51.5727425,51.5728025,51.57282249999999,51.5728525,51.5728825,51.5729125,51.5729325,51.5729425,51.5729425,51.5729325,51.5729325,51.5729225,51.5729125,51.5729225,51.5728625,51.5728525,51.5728525,51.57284250000001,51.57282249999999,51.5727825,51.5726824,51.5726224,51.57251240000001,51.5724224,51.5723424,51.57229239999999,51.5722524,51.57224239999999,51.5722524,51.5722624,51.5722724,51.57229239999999,51.5723224,51.5723524,51.5723924,51.5724124,51.5724424,51.5724524,51.5724624,51.5724724,51.57246239999999,51.5724424,51.5724124,51.5723824,51.57235239999999,51.5723224,51.57231239999999,51.57231239999999,51.5723224,51.5723524,51.5723924,51.57242240000001,51.57246240000001,51.57249239999999,51.57251240000001,51.57251240000001,51.5725124,51.57250239999999,51.5724824,51.5724624,51.5724324,51.5724124,51.5723224,51.57229239999999,51.5722624,51.57223239999999,51.5722224,51.5722124,51.57221239999999,51.5722224,51.5722324,51.5722324,51.5722224,51.57220239999999,51.5721724,51.5721624,51.5721624,51.5721724,51.57219240000001,51.5722224,51.5722824,51.5723424,51.5723624,51.57237239999999,51.5723624,51.5723524,51.5722624,51.57224239999999,51.5721724,51.5721324,51.57211239999999,51.57208240000001,51.5720624,51.5720424,51.5720324,51.5720324,51.5720324,51.5720324,51.57202239999999,51.5720124,51.5720024,51.5719824,51.57195240000001,51.57193239999999,51.5719124,51.5718924,51.57188240000001,51.5718824,51.5718824,51.5718924,51.5719024,51.5719224,51.5719424,51.5719724,51.5720024,51.5720324,51.5721024,51.5721224,51.5721424,51.5721724,51.57220239999999,51.57221239999999,51.5722024,51.5721824,51.5721924,51.57221239999999,51.57224239999999,51.5722824,51.5723224,51.5723624,51.57241239999999,51.5724424,51.5724824,51.5725224,51.5725624,51.5725624,51.5725624,51.5725224,51.5724624,51.5724424,51.5724424,51.5724624,51.5725124,51.5725224,51.5725224,51.57251239999999,51.5724724,51.5724324,51.5724124,51.57240239999999,51.57240239999999,51.5724124,51.5724324,51.5724524,51.5725024,51.5725424,51.5725924,51.5726324,51.5726524,51.5726624,51.57267239999999,51.5726624,51.5726424,51.57260240000001,51.5725724,51.5725424,51.5725124,51.57249239999999,51.5724624,51.5724124,51.5723724,51.5723524,51.5723524,51.5723624,51.5723624,51.5723424,51.5723224,51.5722724,51.57221239999999,51.5721724,51.5721524,51.5721424,51.5721424,51.5721424,51.5721224,51.5720924,51.5720724,51.5720324,51.5719424,51.5719224,51.5718724,51.5718724,51.5718824,51.5718924,51.57193239999999,51.5718624,51.5718324,51.5718324,51.5718524,51.5718824,51.5719424,51.5719624,51.5720824,51.5713423,51.5710623,51.5710523,51.5709023,51.5707523,51.5707323,51.5702822,51.5699422,51.5695822,51.56931220000001,51.5690221,51.5688121,51.5685721,51.5682121,51.5681721,51.568072,51.567942,51.567892,51.567802,51.567562,51.567452,51.567122,51.566992,51.56686190000001,51.56668190000001,51.5666619,51.5663119,51.56613189999999,51.5659619,51.5653218,51.56525179999999,51.56481180000001,51.5646217,51.5640317,51.5637617,51.5633816,51.56323159999999,51.56320160000001,51.5627116,51.56264160000001,51.5623215,51.56226150000001,51.5618515,51.5617715,51.5617615,51.56175150000001,51.5616715,51.56155150000001,51.5613615,51.56123150000001,51.5609414,51.5608014,51.5603614,51.5600614,51.5597413,51.5594313,51.5591513,51.5588212,51.5583012,51.5580212,51.5578812,51.5576611,51.5572311,51.55628100000001,51.555921,51.55582099999999,51.55547099999999,51.5554309,51.55539090000001,51.55533089999999,51.55531089999999,51.5552809,51.5553409,51.5554309,51.555491,51.555501,51.555511,51.555541,51.555561,51.555571,51.555581,51.55559100000001,51.55564099999999,51.555671,51.555711,51.55575100000001,51.55581099999999,51.55588100000001,51.55588100000001,51.555931,51.555971,51.556031,51.556081,51.556161,51.55617099999999,51.556251,51.55629099999999,51.556321,51.556391,51.556441,51.55658099999999,51.5566911,51.5568711,51.556551,51.556431,51.556311,51.556161,51.556141,51.555851,51.555861,51.556021,51.556091,51.556121,51.55628100000001,51.556341,51.55637100000001,51.556401,51.556441,51.556461,51.55647099999999,51.556481,51.556491,51.556501,51.556501,51.556511,51.556521,51.556551,51.556491,51.556361,51.556321,51.55620099999999,51.556061,51.555921,51.55588100000001,51.555841,51.555741,51.555721,51.555711,51.555691,51.55564099999999,51.555571,51.555491,51.555471,51.55544099999999,51.5554309,51.5554309,51.5554309,51.55544099999999,51.555461,51.555461,51.55546100000001,51.555461,51.555461,51.555481,51.555491,51.555501,51.555511,51.555521,51.555521,51.55553099999999,51.55553099999999,51.55555099999999,51.555581,51.555611,51.555661,51.555711,51.555741,51.555771,51.555831,51.555881,51.555941,51.555961,51.55599100000001,51.556021,51.556061,51.556081,51.55616099999999,51.55622100000001,51.556261,51.55628100000001,51.55629099999999,51.556301,51.556411,51.556451,51.55668110000001,51.55678109999999,51.55689109999999,51.5570411,51.5571611,51.5572911,51.5574411,51.5574711,51.5575111,51.55754109999999,51.5575911,51.5576611,51.5578112,51.5579212,51.5580212,51.5581012,51.5582112,51.5582312,51.5582612,51.5582812,51.5583812,51.5584312,51.55851119999999,51.55865120000001,51.5587412,51.5588212,51.5588612,51.5589413,51.5590713,51.5592113,51.5589513,51.5590713,51.55910129999999,51.5591313,51.5591913,51.5592313,51.5592413,51.55929129999999,51.5593413,51.55939129999999,51.5594313,51.5595313,51.5596813,51.5597613,51.5599413,51.5599413,51.56011139999999,51.5601114,51.56012139999999,51.5602514,51.5604914,51.5605914,51.56062139999999,51.5606414,51.56064139999999,51.5606614,51.5606614,51.5606914,51.5606814,51.5607114,51.5607014,51.5607814,51.5607614,51.56081139999999,51.5607414,51.5607214,51.5606914,51.5606414,51.56060139999999,51.5605614,51.5605414,51.5605314,51.5605314,51.5605414,51.5605614,51.56064139999999,51.56064139999999,51.5607414,51.5607914,51.56085139999999,51.56086140000001,51.56091139999999,51.5609714,51.56099140000001,51.5609414,51.5609214,51.5609614,51.56100139999999,51.5610314,51.5610514,51.5610914,51.5611514,51.5612115,51.5612815,51.5613515,51.5614115,51.5616315,51.56164149999999,51.56165149999999,51.5616515,51.5616515,51.5616515,51.5616615,51.56168149999999,51.5617115,51.5617615,51.56182150000001,51.5618615,51.5619015,51.5619315,51.5619515,51.5619915,51.5620215,51.5620415,51.56209149999999,51.56227149999999,51.56237159999999,51.56244159999999,51.5626216,51.56267159999999,51.5626916,51.5628216,51.5629216,51.5629916,51.56300159999999,51.5630316,51.5630816,51.56313160000001,51.5632216,51.5632416,51.5632916,51.56332159999999,51.5633816,51.56345159999999,51.5635717,51.5636617,51.5636817,51.56374169999999,51.56381169999999,51.5638417,51.5638917,51.5639317,51.5640317,51.5640517,51.5640717,51.5641217,51.5641317,51.5641617,51.5642617,51.5644617,51.56449169999999,51.5645517,51.5645917,51.5646518,51.56470179999999,51.5647218,51.56476180000001,51.56479179999999,51.56481180000001,51.56489180000001,51.5649618,51.5650318,51.5650718,51.5651318,51.56517179999999,51.5652918,51.56535179999999,51.5653718,51.5654318,51.5654718,51.5655118,51.5655718,51.5655918,51.56561179999999,51.5656218,51.5656318,51.5656518,51.5656718,51.5657018,51.5657518,51.5658319,51.56586189999999,51.5659019,51.56593189999999,51.5660319,51.56605190000001,51.5660719,51.5660919,51.5661019,51.5661219,51.5661919,51.5662219,51.5662619,51.56633189999999,51.56641190000001,51.56645189999999,51.5664719,51.5664919,51.56651189999999,51.5665319,51.5665619,51.56659189999999,51.5666319,51.5668419,51.567002,51.56702199999999,51.567132,51.567222,51.567262,51.567302,51.56733199999999,51.567372,51.567412,51.567462,51.567472,51.567552,51.567742,51.56776199999999,51.56785199999999,51.568042,51.56809209999999,51.5681321,51.5681521,51.5682021,51.5682221,51.56827209999999,51.5683421,51.5685021,51.5686121,51.5686921,51.56878210000001,51.5688121,51.56882209999999,51.56883209999999,51.5688621,51.5689021,51.56897209999999,51.5689921,51.5690821,51.5692221,51.5694622,51.56949219999999,51.5695022,51.5695122,51.5695922,51.5697122,51.5697522,51.5697522,51.5697522,51.5697622,51.5697822,51.5698522,51.5699522,51.5700122,51.5700122,51.57002219999999,51.5700322,51.5700422,51.57005220000001,51.5700622,51.5700922,51.5701122,51.5701522,51.57019219999999,51.5702522,51.5703222,51.5704023,51.5704523,51.57050230000001,51.5705523,51.5705823,51.5704323,51.57037219999999,51.5703422,51.5703322,51.5703222,51.5702822,51.5702422,51.5702222,51.57012219999999,51.5700022,51.5699422,51.5699122,51.56990219999999,51.5698622,51.5698422,51.5696222,51.56961219999999,51.56949220000001,51.5694822,51.56931220000001,51.5693622,51.5694222,51.5695022,51.56954219999999,51.5695722,51.56960220000001,51.5696322,51.5696622,51.5697522,51.5698122,51.5699522,51.5699522,51.5699522,51.5699822,51.5700922,51.5701822,51.57029219999999,51.5703822,51.5704223,51.57048229999999,51.5705223,51.5705423,51.5705823,51.5706723,51.57076230000001,51.57090229999999,51.57106229999999,51.5711223,51.5711323,51.57128230000001,51.5714723,51.5717624,51.5719624,51.5720024,51.57201240000001,51.5720024,51.57202239999999,51.5720324,51.57208240000001,51.5720924,51.5721424,51.5721824,51.5722324,51.5724624,51.5724724,51.5726925,51.5730525,51.5730825,51.5733425,51.5736025,51.57363249999999,51.57402260000001,51.5745726,51.5747726,51.5749526,51.5755127,51.5758327,51.57583270000001,51.5764228,51.57643279999999,51.5769228,51.5774829,51.5770628,51.57699279999999,51.5774129,51.5775529,51.5782729,51.5782829,51.5783129,51.5783229,51.57838289999999,51.578473,51.57859299999999,51.57871300000001,51.578853,51.5797231,51.5797331,51.5806431,51.5806431,51.5806431,51.58067310000001,51.5807632,51.58118320000001,51.5813632,51.5816032,51.5818232,51.5818933,51.58197329999999,51.5820233,51.5820333,51.5821233,51.58224329999999,51.5822533,51.5825433,51.58302330000001,51.5833034,51.5835134,51.58362340000001,51.5836734,51.5840334,51.58404340000001,51.5844035,51.58438349999999,51.5843935,51.5843435,51.58438349999999,51.58442349999999,51.5844435,51.58447349999999,51.58448349999999,51.5845035,51.5845035,51.5845135,51.5845435,51.5845935,51.5846635,51.58469349999999,51.5848235,51.58494349999999,51.5852335,51.5853336,51.58535359999999,51.58538360000001,51.5854136,51.5854236,51.5854436,51.58543359999999,51.5852935,51.5849535,51.5848735,51.58475350000001,51.5846635,51.5845435,51.58458350000001,51.5848635,51.58581359999999,51.5862736,51.5862836,51.5862736,51.5862636,51.5865237,51.5866237,51.5866337,51.58664369999999,51.5866337,51.5866537,51.5866937,51.58670370000001,51.5872137,51.58762369999999,51.58762369999999,51.5880738,51.5880638,51.58817379999999,51.5882938,51.58851379999999,51.5887438,51.5889039,51.5890739,51.5890739,51.58924389999999,51.5894439,51.5894939,51.5897539,51.5897739,51.58988389999999,51.59008399999999,51.590154,51.590244,51.590324,51.590404,51.590644,51.5913041,51.5916241,51.5916041,51.5916741,51.5917241,51.5917741,51.59198409999999,51.5920041,51.59206409999999,51.59210409999999,51.5922942,51.5923842,51.5923142,51.5922942,51.59248419999999,51.5926442,51.5929742,51.5930542,51.59347429999999,51.59375429999999,51.5938943,51.59418429999999,51.5943643,51.5944943,51.5945544,51.59462440000001,51.5946544,51.5947444,51.5948244,51.5948844,51.5949744,51.5950144,51.5950144,51.5950644,51.5951544,51.5952444,51.5953344,51.5958245,51.5964445,51.5970046,51.5973346,51.5974246,51.5975046,51.5975646,51.5976246,51.5977046,51.60025479999999,51.602075,51.60239499999999,51.6028051,51.6034151,51.6037652,51.6043752,51.6052253,51.6052753,51.6053453,51.60538529999999,51.60538529999999,51.6054553,51.60547529999999,51.6054853,51.60542530000001,51.60533530000001,51.6052553,51.60517530000001,51.6051353,51.6051053,51.6049253,51.60479520000001,51.6045852,51.6043952,51.60425519999999,51.6041452,51.60395519999999,51.6036551,51.6035751,51.6035051,51.6030751,51.6028751,51.6028151,51.6026851,51.6025851,51.602475,51.601535,51.6012949,51.6011849,51.6009749,51.60057490000001,51.6003649,51.60025479999999,51.6000548,51.5999948,51.5998548,51.5996148,51.5993148,51.5992048,51.59911469999999,51.59895469999999,51.5985147,51.59833469999999,51.5982847,51.5981947,51.5979446,51.59749459999999,51.5975246,51.5975646,51.5975546,51.5978746,51.5980147,51.5981147,51.5983847,51.5985147,51.59873469999999,51.5987647,51.5987447,51.59893470000001,51.5990447,51.5991648,51.59922479999999,51.5992348,51.59928480000001,51.5993048,51.59940479999999,51.5995748,51.5996048,51.59971479999999,51.5998848,51.5999648,51.6000548,51.6001048,51.6001348,51.60015479999999,51.6003149,51.6004049,51.6004949,51.6005749,51.6006549,51.6007649,51.6008449,51.6008849,51.6009849,51.60104490000001,51.60112489999999,51.6011449,51.60132489999999,51.6014049,51.601495,51.601525,51.601555,51.601605,51.601635,51.601705,51.601765,51.60183499999999,51.601975,51.602125,51.602225,51.602265,51.602385,51.60248499999999,51.602545,51.60261509999999,51.60263510000001,51.6027151,51.6027651,51.6027851,51.6028051,51.6028251,51.60285510000001,51.6028951,51.60297509999999,51.6030751,51.6031951,51.60325510000001,51.60331509999999,51.6033451,51.6033751,51.60340509999999,51.6034851,51.60355509999999,51.6035851,51.60361510000001,51.6037051,51.6037752,51.6039352,51.6039652,51.60406519999999,51.6041852,51.6043652,51.6044152,51.6044652,51.6045852,51.6047652,51.60493529999999,51.60497530000001,51.60504529999999,51.6050953,51.6051753,51.6052153,51.6053153,51.6055253,51.6056353,51.6056853,51.6057353,51.6057753,51.6058353,51.6059053,51.6061154,51.60645539999999,51.6067154,51.6067954,51.6069454,51.6072055,51.6073855,51.6075355,51.6076855,51.6079555,51.60796549999999,51.60841560000001,51.6087856,51.6088356,51.6089056,51.6089856,51.6091456,51.6093056,51.6094456,51.60959569999999,51.6097457,51.6098657,51.6099457,51.61000569999999,51.6100757,51.61013569999999,51.6101957,51.6101957,51.61020569999999,51.61044570000001,51.6107958,51.6110358,51.6113058,51.61160579999999,51.6120859,51.6124359,51.61290589999999,51.613056,51.613386,51.6141861,51.6146661,51.61524619999999,51.61551619999999,51.6155262,51.61559620000001,51.6157462,51.6158762,51.61598619999999,51.6160062,51.6159862,51.61618619999999,51.6162062,51.6162362,51.6162662,51.61640629999999,51.6164363,51.6164463,51.6164763,51.6164963,51.61676629999999,51.6167763,51.6168463,51.6169163,51.6171163,51.6171363,51.61714629999999,51.61715629999999,51.6171663,51.6172763,51.6173863,51.6174163,51.61745629999999,51.61750629999999,51.61754639999999,51.6175864,51.6177064,51.6177364,51.6177364,51.6177264,51.6177264,51.6177264,51.61773639999999,51.6177564,51.61780639999999,51.61787640000001,51.6179664,51.61810639999999,51.6182864,51.6185564,51.61859639999999,51.6186064,51.6186164,51.6186264,51.6186264,51.61879649999999,51.61890649999999,51.6188965,51.6189765,51.61907650000001,51.6194765,51.6196965,51.61988660000001,51.62018659999999,51.62019659999999,51.62021660000001,51.6202366,51.6202966,51.6203166,51.6203266,51.62033659999999,51.62033659999999,51.6203766,51.6203866,51.6204166,51.62041659999999,51.6204866,51.6205066,51.6205466,51.6205466,51.6206066,51.6206266,51.6206766,51.6206766,51.6209066,51.6211367,51.6214067,51.62140669999999,51.62149669999999,51.6216067,51.6217967,51.6218167,51.6218167,51.6218567,51.6218567,51.6221768,51.62218679999999,51.6224068,51.62242680000001,51.6223368,51.6223268,51.6223168,51.62231679999999,51.6223268,51.6223368,51.6223568,51.6223768,51.6226168,51.6227968,51.6230868,51.62343689999999,51.62354689999999,51.6236769,51.6237769,51.6239169,51.6239669,51.6240169,51.6240569,51.62408689999999,51.6241169,51.6241369,51.6241569,51.6241669,51.6242169,51.62426689999999,51.6243369,51.624437,51.62448699999999,51.624527,51.624537,51.62454699999999,51.624557,51.624737,51.624867,51.624927,51.62510700000001,51.625477,51.62559710000001,51.6258571,51.6260671,51.62607709999999,51.6261471,51.6264171,51.6264471,51.6264871,51.6265171,51.6265671,51.6266571,51.6266871,51.6267071,51.6267372,51.6268072,51.6268572,51.6270272,51.6272372,51.6273272,51.6274872,51.6276172,51.6277072,51.6277972,51.6280273,51.62852729999999,51.6285773,51.6288673,51.6289373,51.62918740000001,51.6293874,51.6293774,51.62936739999999,51.62941739999999,51.62942739999999,51.62950739999999,51.62960739999999,51.6296674,51.6297374,51.6301474,51.6301975,51.6303475,51.6304275,51.6306975,51.6310775,51.63101749999999,51.63106750000001,51.63106750000001,51.6311875,51.6312675,51.6313876,51.6314176,51.6315176,51.6316376,51.63180759999999,51.6319076,51.63191759999999,51.6320776,51.6321176,51.63225759999999,51.6323176,51.6323476,51.63236759999999,51.6323776,51.6324276,51.6324877,51.63257769999999,51.63258769999999,51.63260769999999,51.63262770000001,51.6326577,51.63280770000001,51.6329077,51.63300770000001,51.6330277,51.6331677,51.6332977,51.6335177,51.6335677,51.63356770000001,51.6336378,51.6337978,51.6339278,51.6339978,51.6340678,51.6340578,51.63403779999999,51.6339978,51.6338978,51.6339978,51.6340078,51.6341078,51.6342678,51.6344478,51.63450779999999,51.63456779999999,51.6346478,51.63471779999999,51.63481789999999,51.6349179,51.63499789999999,51.6350379,51.6351479,51.6352279,51.6353679,51.63548790000001,51.6356579,51.635998,51.636188,51.63626799999999,51.636278,51.63639800000001,51.636528,51.636558,51.63671799999999,51.636858,51.636998,51.6371181,51.6372081,51.6373781,51.6374581,51.6374781,51.6374881,51.6374881,51.63749809999999,51.6375181,51.6375481,51.6376281,51.6377881,51.6379781,51.6380081,51.6382181,51.6384882,51.6386382,51.6388982,51.6391182,51.6393282,51.63938830000001,51.6398083,51.63991829999999,51.64015829999999,51.6402683,51.6407584,51.6408684,51.6409284,51.6410084,51.64199850000001,51.6426385,51.64261849999999,51.6422585,51.6420685,51.6420985,51.6422985,51.6423285,51.64231849999999,51.6426285,51.6430786,51.6434986,51.64370859999999,51.6438786,51.64398869999999,51.6441587,51.6446287,51.6448387,51.6448387,51.6451888,51.6451888,51.6451988,51.64532879999999,51.6453088,51.6452788,51.6452888,51.6452988,51.6453188,51.6453488,51.64565880000001,51.64579879999999,51.6458288,51.6459488,51.6461288,51.6462588,51.64646889999999,51.6466989,51.64693889999999,51.64696889999999,51.6472789,51.647439,51.64750899999999,51.64767899999999,51.647909,51.64800899999999,51.648169,51.648349,51.6485791,51.6486791,51.6487791,51.64884909999999,51.6491391,51.6494891,51.6495891,51.6497692,51.6498392,51.6499792,51.6501192,51.6501092,51.6500492,51.6498492,51.6500692,51.6502692,51.6504692,51.6506092,51.65066919999999,51.65072919999999,51.6508592,51.6509393,51.6511193,51.6512093,51.6513093,51.6514193,51.65147930000001,51.6515893,51.65165929999999,51.6517393,51.6517993,51.6517993,51.65195929999999,51.6519693,51.6519893,51.6520494,51.65206939999999,51.65208939999999,51.65230940000001,51.6523694,51.6524294,51.6524694,51.6525294,51.6526294,51.6526394,51.65273939999999,51.65270940000001,51.65264939999999,51.6526194,51.65280939999999,51.65291939999999,51.6529894,51.6530994,51.65322949999999,51.65331949999999,51.6534795,51.6535395,51.65353949999999,51.6535495,51.6535595,51.65360949999999,51.6536295,51.6536695,51.6537695,51.6542095,51.6544596,51.6545396,51.65464960000001,51.6546396,51.65462959999999,51.6546296,51.6546396,51.6547596,51.6548996,51.6549596,51.6549696,51.6549696,51.6549696,51.6551696,51.65531959999999,51.65544959999999,51.6555197,51.6555397,51.6555797,51.6556197,51.65563969999999,51.65568969999999,51.65578970000001,51.65603969999999,51.6561397,51.6561897,51.65623970000001,51.6563197,51.65629969999999,51.6562897,51.6562897,51.6564597,51.65661979999999,51.6567598,51.6567798,51.6569598,51.6571998,51.6577098,51.6579499,51.6579899,51.6581899,51.6582399,51.65824989999999,51.6582399,51.6584199,51.6586199,51.6587699,51.65891999999999,51.65911,51.65917,51.65926,51.65927,51.65932999999999,51.6594,51.65945999999999,51.65953,51.65958999999999,51.6596,51.65962,51.65969,51.65969999999999,51.65976999999999,51.65982,51.65993,51.66004,51.66019009999999,51.66046009999999,51.66059009999999,51.6606001,51.66068010000001,51.6608201,51.6609501,51.6610001,51.6610401,51.66113010000001,51.6613202,51.6613802,51.6615202,51.6615502,51.6615402,51.66161019999999,51.66168020000001,51.6618702,51.66209019999999,51.66226019999999,51.6624203,51.66258029999999,51.6627603,51.66285029999999,51.6628603,51.6630303,51.66343029999999,51.6637004,51.6637604,51.66393040000001,51.6640104,51.6640904,51.66430039999999,51.6644304,51.6645204,51.66469050000001,51.6648405,51.6649505,51.66531049999999,51.6655605,51.6660506,51.6668706,51.66758069999999,51.6682308,51.66864079999999,51.6686908,51.6686108,51.6685908,51.6684908,51.6685508,51.6685108,51.6678807,51.6664906,51.6658606,51.6658306,51.6647205,51.6639804,51.66394039999999,51.6638904,51.6641004,51.6643404,51.66449039999999,51.6646504,51.6647305,51.6649705,51.66519049999999,51.6652905,51.66546049999999,51.6654805,51.66635059999999,51.66705069999999,51.66749069999999,51.6676107,51.6682808,51.6684108,51.6685108,51.6681308,51.6681508,51.6681808,51.6682008,51.66820079999999,51.6682008,51.66820080000001,51.6685008,51.66873080000001,51.6690108,51.6693709,51.6698609,51.6701709,51.6702109]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":5,"opacity":0.5,"fill":true,"fillColor":"black","fillOpacity":0,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[51.58196,51.600071,51.642971,51.594658,51.566735,51.577519,51.599219,51.556743,51.603197,51.605819,51.596312,51.595078],[-0.227068,-0.266245,-0.212751,-0.250451,-0.211039,-0.218827,-0.245225,-0.214475,-0.192104,-0.271874,-0.251675,-0.252156],10,null,null,{"interactive":true,"className":"","stroke":true,"color":["#0C7E43","#0C7E43","#0C7E43","#138A49","#A50026","#05733D","#006837","#108446","#59B55F","#49AC5A","#E4F49A","#E44D33"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#0C7E43","#0C7E43","#0C7E43","#138A49","#A50026","#05733D","#006837","#108446","#59B55F","#49AC5A","#E4F49A","#E44D33"],"fillOpacity":0.2},null,null,["60 (actual) vs 11 (predicted)","58 (actual) vs 9 (predicted)","51 (actual) vs 2 (predicted)","71 (actual) vs 20 (predicted)","136 (actual) vs 7 (predicted)","53 (actual) vs 6 (predicted)","54 (actual) vs 9 (predicted)","65 (actual) vs 15 (predicted)","69 (actual) vs 9 (predicted)","66 (actual) vs 8 (predicted)","93 (actual) vs 12 (predicted)","133 (actual) vs 16 (predicted)"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#006837 , #108446 5.95238095238095%, #59B55F 17.8571428571429%, #A5D86A 29.7619047619048%, #DFF294 41.6666666666667%, #FFF4AC 53.5714285714286%, #FEC574 65.4761904761905%, #F77F4B 77.3809523809524%, #D93529 89.2857142857143%, #A50026 "],"labels":["50","60","70","80","90","100","110","120"],"na_color":null,"na_label":"NA","opacity":1,"position":"bottomright","type":"numeric","title":"Error","extra":{"p_1":0.05952380952380952,"p_n":0.8928571428571429},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[51.5552809,51.6702109],"lng":[-0.3055738,-0.1291338]}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(m_outlier, here("1_data", "ml_m_outlier.RDS"))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Highest error was observed in North Cricklewood around Pennine Mansions. We can see that the point is located within blocks of flats and is in the vicinity of some shops and bus stations on the street. It is likely that there is a high residential and transient population density. Hence, the random forest model has underestimated the count of ASB.</p>
<p>Second highest error was spotted in a neighbourhood between UK Health Security Agency and Colindale Station. Again, this neighbourhood is likely to have a high volume of traffic. Despite the recent closure of Colindale station, there is a tube replacement bus stop on Colindale Avenue very close to the hotspot point where the model missed.</p>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Cichosz - Urban Crime Risk Prediction Using Point of Interest Data: <a href="https://www.mdpi.com/2220-9964/9/7/459" class="uri">https://www.mdpi.com/2220-9964/9/7/459</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>